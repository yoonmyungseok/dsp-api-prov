2023-12-12 10:47:13.889  INFO 16519 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 16519 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 10:47:13.894  INFO 16519 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 10:47:15.408  INFO 16519 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 10:47:15.419  INFO 16519 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 10:47:15.419  INFO 16519 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 10:47:15.484  INFO 16519 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 10:47:15.484  INFO 16519 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms
2023-12-12 10:47:16.561  INFO 16519 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 10:47:16.718  INFO 16519 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 10:47:16.719  INFO 16519 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 10:47:17.001  INFO 16519 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 10:47:17.036  INFO 16519 --- [main] org.eclipse.jetty.util.log               : Logging initialized @4039ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 10:47:17.092  INFO 16519 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 10:47:17.117  INFO 16519 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@338cc75f{/,null,AVAILABLE}
2023-12-12 10:47:17.123  INFO 16519 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@1fba386c{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:47:17.124  INFO 16519 --- [main] org.eclipse.jetty.server.Server          : Started @4126ms
2023-12-12 10:47:17.131  INFO 16519 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 10:47:17.131  INFO 16519 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:47:17.131  INFO 16519 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 358ms (build:55ms init:173ms start:130ms)
2023-12-12 10:47:17.136  INFO 16519 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.792 seconds (JVM running for 4.138)
2023-12-12 10:47:43.596  INFO 16519 --- [qtp1778028150-38] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@cf9285c, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 10:47:43.614  INFO 16519 --- [qtp1778028150-38] go.kr.dsp.api.processor.ScriptProcessor  : Cannot run program "scriptI0000001-S00001-1-deploy-ls.sh": error=2, 그런 파일이나 디렉터리가 없습니다
2023-12-12 10:47:43.615  INFO 16519 --- [qtp1778028150-38] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 10:48:39.637  INFO 16519 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 10:48:39.653  INFO 16519 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@1fba386c{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:48:39.654  INFO 16519 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@338cc75f{/,null,STOPPED}
2023-12-12 10:48:39.671  INFO 16519 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 10:48:39.671  INFO 16519 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:48:39.673  INFO 16519 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 36ms (uptime:1m22s)
2023-12-12 10:48:39.679  INFO 16519 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 10:48:41.743  INFO 16651 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 16651 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 10:48:41.750  INFO 16651 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 10:48:44.321  INFO 16651 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 10:48:44.338  INFO 16651 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 10:48:44.339  INFO 16651 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 10:48:44.393  INFO 16651 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 10:48:44.393  INFO 16651 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2579 ms
2023-12-12 10:48:46.329  INFO 16651 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 10:48:46.647  INFO 16651 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 10:48:46.649  INFO 16651 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 10:48:47.378  INFO 16651 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 10:48:47.426  INFO 16651 --- [main] org.eclipse.jetty.util.log               : Logging initialized @6505ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 10:48:47.518  INFO 16651 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 10:48:47.758  INFO 16651 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@39e43310{/,null,AVAILABLE}
2023-12-12 10:48:47.788  INFO 16651 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e1f584d{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:48:47.788  INFO 16651 --- [main] org.eclipse.jetty.server.Server          : Started @6867ms
2023-12-12 10:48:47.808  INFO 16651 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 10:48:47.808  INFO 16651 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:48:47.808  INFO 16651 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 904ms (build:59ms init:415ms start:430ms)
2023-12-12 10:48:47.825  INFO 16651 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 6.52 seconds (JVM running for 6.904)
2023-12-12 10:49:09.859  INFO 16651 --- [qtp118363130-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@10db15d4, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 10:49:09.883  INFO 16651 --- [qtp118363130-36] go.kr.dsp.api.processor.ScriptProcessor  : Cannot run program "script/I0000001-S00001-1-deploy-ls.sh": error=13, 허가 거부
2023-12-12 10:49:09.884  INFO 16651 --- [qtp118363130-36] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 10:52:37.845  INFO 16651 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 10:52:37.856  INFO 16651 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@7e1f584d{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:52:37.858  INFO 16651 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@39e43310{/,null,STOPPED}
2023-12-12 10:52:37.864  INFO 16651 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 10:52:37.864  INFO 16651 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:52:37.867  INFO 16651 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 21ms (uptime:3m50s)
2023-12-12 10:52:37.879  INFO 16651 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 10:52:42.065  INFO 16796 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 16796 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 10:52:42.067  INFO 16796 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 10:52:44.659  INFO 16796 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 10:52:44.670  INFO 16796 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 10:52:44.671  INFO 16796 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 10:52:44.763  INFO 16796 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 10:52:44.763  INFO 16796 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2599 ms
2023-12-12 10:52:46.788  INFO 16796 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 10:52:46.881  INFO 16796 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 10:52:46.882  INFO 16796 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 10:52:47.174  INFO 16796 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 10:52:47.201  INFO 16796 --- [main] org.eclipse.jetty.util.log               : Logging initialized @6735ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 10:52:47.241  INFO 16796 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 10:52:47.265  INFO 16796 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 10:52:47.271  INFO 16796 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:52:47.271  INFO 16796 --- [main] org.eclipse.jetty.server.Server          : Started @6805ms
2023-12-12 10:52:47.278  INFO 16796 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 10:52:47.278  INFO 16796 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:52:47.278  INFO 16796 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 375ms (build:105ms init:166ms start:104ms)
2023-12-12 10:52:47.282  INFO 16796 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 6.119 seconds (JVM running for 6.816)
2023-12-12 10:52:53.669  INFO 16796 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@582d8d71, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 10:52:53.695  INFO 16796 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 10:52:53.700  INFO 16796 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Cannot run program "/script/I0000001-S00001-1-deploy-ls.sh": error=2, 그런 파일이나 디렉터리가 없습니다
2023-12-12 10:52:53.701  INFO 16796 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 10:55:13.818  INFO 16796 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 10:55:13.826  INFO 16796 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:55:13.827  INFO 16796 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 10:55:13.842  INFO 16796 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 10:55:13.843  INFO 16796 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:55:13.845  INFO 16796 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 26ms (uptime:2m26s)
2023-12-12 10:55:13.853  INFO 16796 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 10:55:29.615  INFO 16920 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 16920 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 10:55:29.617  INFO 16920 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 10:55:32.876  INFO 16920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 10:55:32.885  INFO 16920 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 10:55:32.885  INFO 16920 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 10:55:33.022  INFO 16920 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 10:55:33.022  INFO 16920 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3297 ms
2023-12-12 10:55:34.194  INFO 16920 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 10:55:34.285  INFO 16920 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 10:55:34.286  INFO 16920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 10:55:34.602  INFO 16920 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 10:55:34.627  INFO 16920 --- [main] org.eclipse.jetty.util.log               : Logging initialized @6343ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 10:55:34.665  INFO 16920 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 10:55:34.688  INFO 16920 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@7fc7c4a{/,null,AVAILABLE}
2023-12-12 10:55:34.694  INFO 16920 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4d6ee47{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 10:55:34.695  INFO 16920 --- [main] org.eclipse.jetty.server.Server          : Started @6411ms
2023-12-12 10:55:34.701  INFO 16920 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 10:55:34.701  INFO 16920 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 10:55:34.701  INFO 16920 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 330ms (build:41ms init:191ms start:98ms)
2023-12-12 10:55:34.705  INFO 16920 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 5.742 seconds (JVM running for 6.421)
2023-12-12 10:55:39.554  INFO 16920 --- [qtp367066629-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@480f28b3, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 10:55:39.572  INFO 16920 --- [qtp367066629-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 10:55:39.574  INFO 16920 --- [qtp367066629-36] go.kr.dsp.api.processor.ScriptProcessor  : Cannot run program "/home/dsp_deploy/script/I0000001-S00001-1-deploy-ls.sh": error=13, 허가 거부
2023-12-12 10:55:39.575  INFO 16920 --- [qtp367066629-36] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 11:05:13.142  INFO 16920 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:05:13.159  INFO 16920 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@4d6ee47{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:05:13.161  INFO 16920 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@7fc7c4a{/,null,STOPPED}
2023-12-12 11:05:13.178  INFO 16920 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:05:13.178  INFO 16920 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:05:13.180  INFO 16920 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 38ms (uptime:9m38s)
2023-12-12 11:05:13.187  INFO 16920 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:05:33.553  INFO 17058 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17058 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 11:05:33.555  INFO 17058 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 11:05:35.651  INFO 17058 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 11:05:35.661  INFO 17058 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:05:35.661  INFO 17058 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:05:35.787  INFO 17058 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:05:35.788  INFO 17058 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2175 ms
2023-12-12 11:05:37.984  INFO 17058 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:05:38.060  INFO 17058 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:05:38.062  INFO 17058 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 11:05:38.536  INFO 17058 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:05:38.600  INFO 17058 --- [main] org.eclipse.jetty.util.log               : Logging initialized @5824ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:05:38.686  INFO 17058 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:05:38.826  INFO 17058 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 11:05:38.834  INFO 17058 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:05:38.834  INFO 17058 --- [main] org.eclipse.jetty.server.Server          : Started @6059ms
2023-12-12 11:05:38.853  INFO 17058 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:05:38.853  INFO 17058 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:05:38.853  INFO 17058 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 795ms (build:131ms init:348ms start:316ms)
2023-12-12 11:05:38.857  INFO 17058 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 5.732 seconds (JVM running for 6.082)
2023-12-12 11:05:44.655  INFO 17058 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@6c59b3ab, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:05:44.672  INFO 17058 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:05:44.674  INFO 17058 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Cannot run program "/home/dsp_deploy/script/I0000001-S00001-1-deploy-ls.sh": error=13, 허가 거부
2023-12-12 11:05:44.675  INFO 17058 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 11:07:50.721  INFO 17058 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:07:50.733  INFO 17058 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:07:50.735  INFO 17058 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 11:07:50.751  INFO 17058 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:07:50.752  INFO 17058 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:07:50.754  INFO 17058 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 32ms (uptime:2m12s)
2023-12-12 11:07:50.764  INFO 17058 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:08:10.060  INFO 17221 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17221 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 11:08:10.061  INFO 17221 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 11:08:12.635  INFO 17221 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 11:08:12.645  INFO 17221 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:08:12.645  INFO 17221 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:08:12.755  INFO 17221 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:08:12.755  INFO 17221 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2585 ms
2023-12-12 11:08:14.161  INFO 17221 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:08:14.222  INFO 17221 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:08:14.223  INFO 17221 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 11:08:14.482  INFO 17221 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:08:14.507  INFO 17221 --- [main] org.eclipse.jetty.util.log               : Logging initialized @6227ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:08:14.583  INFO 17221 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:08:14.609  INFO 17221 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@440eaa07{/,null,AVAILABLE}
2023-12-12 11:08:14.615  INFO 17221 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@41fed14f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:08:14.615  INFO 17221 --- [main] org.eclipse.jetty.server.Server          : Started @6336ms
2023-12-12 11:08:14.622  INFO 17221 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:08:14.622  INFO 17221 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:08:14.622  INFO 17221 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 326ms (build:42ms init:144ms start:140ms)
2023-12-12 11:08:14.626  INFO 17221 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 5.646 seconds (JVM running for 6.346)
2023-12-12 11:08:23.626  INFO 17221 --- [qtp1412612727-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@6782ec4c, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:08:23.646  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:08:23.654  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 11:08:23.660  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 11:08 .
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745477 12월 12 11:08 agent-1.0.0.jar
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 11:08:23.661  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
2023-12-12 11:08:23.662  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 11:08:23.663  INFO 17221 --- [qtp1412612727-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:08:23.664  INFO 17221 --- [qtp1412612727-36] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 11:10:34.512  INFO 17221 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:10:34.525  INFO 17221 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@41fed14f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:10:34.526  INFO 17221 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@440eaa07{/,null,STOPPED}
2023-12-12 11:10:34.532  INFO 17221 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:10:34.532  INFO 17221 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:10:34.535  INFO 17221 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 22ms (uptime:2m20s)
2023-12-12 11:10:34.544  INFO 17221 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:11:05.583  INFO 17368 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17368 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 11:11:05.589  INFO 17368 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 11:11:07.540  INFO 17368 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 11:11:07.550  INFO 17368 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:11:07.551  INFO 17368 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:11:07.625  INFO 17368 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:11:07.626  INFO 17368 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1918 ms
2023-12-12 11:11:09.669  INFO 17368 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:11:09.951  INFO 17368 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:11:09.952  INFO 17368 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 11:11:10.540  INFO 17368 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:11:10.612  INFO 17368 --- [main] org.eclipse.jetty.util.log               : Logging initialized @6304ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:11:10.736  INFO 17368 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:11:10.845  INFO 17368 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 11:11:10.867  INFO 17368 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:11:10.867  INFO 17368 --- [main] org.eclipse.jetty.server.Server          : Started @6560ms
2023-12-12 11:11:10.877  INFO 17368 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:11:10.877  INFO 17368 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:11:10.878  INFO 17368 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 756ms (build:67ms init:352ms start:337ms)
2023-12-12 11:11:10.881  INFO 17368 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 6.047 seconds (JVM running for 6.574)
2023-12-12 11:11:18.578  INFO 17368 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@17ac3e6b, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:11:18.595  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:11:18.595  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /root
2023-12-12 11:11:18.601  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 11:11:18.601  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 11:10 .
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745497 12월 12 11:10 agent-1.0.0.jar
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
2023-12-12 11:11:18.602  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 11:11:18.603  INFO 17368 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:11:18.604  INFO 17368 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 11:19:13.754  INFO 17368 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:19:13.764  INFO 17368 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:19:13.765  INFO 17368 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 11:19:13.772  INFO 17368 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:19:13.772  INFO 17368 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:19:13.775  INFO 17368 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 20ms (uptime:8m3s)
2023-12-12 11:19:13.784  INFO 17368 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:19:15.522  INFO 17471 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17471 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 11:19:15.524  INFO 17471 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 11:19:16.947  INFO 17471 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 11:19:16.955  INFO 17471 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:19:16.956  INFO 17471 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:19:17.016  INFO 17471 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:19:17.016  INFO 17471 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1413 ms
2023-12-12 11:19:18.907  INFO 17471 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:19:18.964  INFO 17471 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:19:18.965  INFO 17471 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 11:19:19.433  INFO 17471 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:19:19.554  INFO 17471 --- [main] org.eclipse.jetty.util.log               : Logging initialized @4874ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:19:19.623  INFO 17471 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:19:19.775  INFO 17471 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3ec2ecea{/,null,AVAILABLE}
2023-12-12 11:19:19.788  INFO 17471 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:19:19.788  INFO 17471 --- [main] org.eclipse.jetty.server.Server          : Started @5108ms
2023-12-12 11:19:19.797  INFO 17471 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:19:19.798  INFO 17471 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:19:19.798  INFO 17471 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 749ms (build:48ms init:337ms start:364ms)
2023-12-12 11:19:19.802  INFO 17471 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 4.751 seconds (JVM running for 5.122)
2023-12-12 11:19:26.429  INFO 17471 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@482ef00, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:19:26.449  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:19:26.458  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 11:19:26.464  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 11:19:26.464  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 11:19 .
2023-12-12 11:19:26.464  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 11:19:26.464  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745578 12월 12 11:19 agent-1.0.0.jar
2023-12-12 11:19:26.464  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 11:19:26.464  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 11:19:26.465  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 11:19:26.465  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
2023-12-12 11:19:26.465  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 11:19:26.466  INFO 17471 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:19:26.466  INFO 17471 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : Test...합계 77880drwxr-xr-x. 6 root root       79 12월 12 11:19 .drwxr-xr-x. 4 root root       38 11월 21 09:16 ..-rw-r--r--. 1 root root 79745578 12월 12 11:19 agent-1.0.0.jardrwxr-xr-x. 2 root root       55 12월  8 17:14 filedrwxr-xr-x. 2 root root      110 12월 12 10:47 logsdrwxr-xr-x. 3 root root       54 12월 11 17:11 scriptdrwxr-xr-x. 4 root root       40 12월 12 10:46 yamlDone
2023-12-12 11:20:33.073  INFO 17471 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:20:33.093  INFO 17471 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:20:33.094  INFO 17471 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@3ec2ecea{/,null,STOPPED}
2023-12-12 11:20:33.104  INFO 17471 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:20:33.104  INFO 17471 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:20:33.107  INFO 17471 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 33ms (uptime:1m13s)
2023-12-12 11:20:33.115  INFO 17471 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:20:55.220  INFO 17642 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17642 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 11:20:55.222  INFO 17642 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 11:20:57.913  INFO 17642 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 11:20:57.934  INFO 17642 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:20:57.934  INFO 17642 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:20:58.071  INFO 17642 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:20:58.072  INFO 17642 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2729 ms
2023-12-12 11:21:00.198  INFO 17642 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:21:00.250  INFO 17642 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:21:00.252  INFO 17642 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 11:21:00.522  INFO 17642 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:21:00.545  INFO 17642 --- [main] org.eclipse.jetty.util.log               : Logging initialized @6975ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:21:00.583  INFO 17642 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:21:00.609  INFO 17642 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 11:21:00.615  INFO 17642 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:21:00.615  INFO 17642 --- [main] org.eclipse.jetty.server.Server          : Started @7044ms
2023-12-12 11:21:00.622  INFO 17642 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:21:00.622  INFO 17642 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:21:00.622  INFO 17642 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 337ms (build:95ms init:142ms start:100ms)
2023-12-12 11:21:00.627  INFO 17642 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 6.271 seconds (JVM running for 7.057)
2023-12-12 11:21:06.531  INFO 17642 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@4dc2e253, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:21:06.563  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 11:20 .
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745586 12월 12 11:20 agent-1.0.0.jar
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
2023-12-12 11:21:06.573  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 11:21:06.577  INFO 17642 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:21:06.577  INFO 17642 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 11:20 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745586 12월 12 11:20 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 11:21:42.886  INFO 17642 --- [qtp1604020967-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@14c34b0c, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=219, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:21:42.887  INFO 17642 --- [qtp1604020967-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:21:42.888  INFO 17642 --- [qtp1604020967-35] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 11:21:42.900  INFO 17642 --- [qtp1604020967-35] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {17623}
2023-12-12 11:21:42.900  INFO 17642 --- [qtp1604020967-35] go.kr.dsp.api.processor.ScriptProcessor  : kill: {17623}
2023-12-12 11:21:52.902  INFO 17642 --- [qtp1604020967-35] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 11:21:52.903  INFO 17642 --- [qtp1604020967-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:21:52.903  INFO 17642 --- [qtp1604020967-35] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {17623}
kill: {17623}
Done

2023-12-12 11:22:11.187  INFO 17642 --- [qtp1604020967-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@14c34b0c, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=498, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:22:11.188  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:22:11.189  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 11:22:11.198  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 11:22:11.198  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 11:22:11.989  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 11:22:12.062  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:12.058  INFO 17734 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17734 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 11:22:12.062  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:12.060  INFO 17734 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 11:22:13.482  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:13.479  INFO 17734 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 11:22:13.495  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:13.488  INFO 17734 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:22:13.495  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:13.488  INFO 17734 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:22:13.559  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:13.549  INFO 17734 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:22:13.559  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:13.550  INFO 17734 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1442 ms
2023-12-12 11:22:14.750  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:14.748  INFO 17734 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:22:14.819  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:14.810  INFO 17734 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:22:14.819  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:14.812  INFO 17734 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 11:22:15.113  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.105  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:22:15.143  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.134  INFO 17734 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3933ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:22:15.187  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.184  INFO 17734 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:22:15.209  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.207  INFO 17734 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 11:22:15.218  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.214  INFO 17734 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 11:22:15.218  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.215  INFO 17734 --- [           main] org.eclipse.jetty.server.Server          : Started @4014ms
2023-12-12 11:22:15.226  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.222  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:22:15.226  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.222  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 11:22:15.226  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.223  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 322ms (build:43ms init:162ms start:117ms)
2023-12-12 11:22:15.234  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:22:15.229  INFO 17734 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.683 seconds (JVM running for 4.029)
2023-12-12 11:25:06.633  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.632  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:25:06.636  INFO 17642 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:25:06.668  INFO 17642 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 11:25:06.689  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.688  INFO 17734 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 11:25:06.691  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.690  INFO 17734 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@eb507b9{/,null,STOPPED}
2023-12-12 11:25:06.696  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.696  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:25:06.696  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.696  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 11:25:06.700  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.700  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 67ms (uptime:2m51s)
2023-12-12 11:25:06.709  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 11:25:06.709  INFO 17734 --- [ionShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:25:06.748  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : Execution failed.
2023-12-12 11:25:06.749  INFO 17642 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 1
2023-12-12 11:25:06.749  INFO 17642 --- [qtp1604020967-37] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 11:22:12.058  INFO 17734 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17734 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 11:22:12.060  INFO 17734 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 11:22:13.479  INFO 17734 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 11:22:13.488  INFO 17734 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:22:13.488  INFO 17734 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:22:13.549  INFO 17734 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:22:13.550  INFO 17734 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1442 ms
2023-12-12 11:22:14.748  INFO 17734 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:22:14.810  INFO 17734 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:22:14.812  INFO 17734 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 11:22:15.105  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:22:15.134  INFO 17734 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3933ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:22:15.184  INFO 17734 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:22:15.207  INFO 17734 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 11:22:15.214  INFO 17734 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 11:22:15.215  INFO 17734 --- [           main] org.eclipse.jetty.server.Server          : Started @4014ms
2023-12-12 11:22:15.222  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:22:15.222  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 11:22:15.223  INFO 17734 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 322ms (build:43ms init:162ms start:117ms)
2023-12-12 11:22:15.229  INFO 17734 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.683 seconds (JVM running for 4.029)
2023-12-12 11:25:06.632  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 11:25:06.688  INFO 17734 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 11:25:06.690  INFO 17734 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@eb507b9{/,null,STOPPED}
2023-12-12 11:25:06.696  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:25:06.696  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 11:25:06.700  INFO 17734 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 67ms (uptime:2m51s)
2023-12-12 11:25:06.709  INFO 17734 --- [ionShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
Execution failed.

2023-12-12 11:25:06.755 ERROR 17642 --- [qtp1604020967-37] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:896) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:206) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 51 common frames omitted

2023-12-12 11:25:07.672  INFO 17642 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:25:07.674  INFO 17642 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 11:25:07.680  INFO 17642 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 11:25:07.680  INFO 17642 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:25:07.682  INFO 17642 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 1s46ms (uptime:4m7s)
2023-12-12 11:25:07.692  INFO 17642 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 11:25:33.164  INFO 17810 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17810 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 11:25:33.166  INFO 17810 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 11:25:34.498  INFO 17810 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 11:25:34.506  INFO 17810 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:25:34.506  INFO 17810 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:25:34.560  INFO 17810 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:25:34.560  INFO 17810 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1262 ms
2023-12-12 11:25:35.585  INFO 17810 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:25:35.634  INFO 17810 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:25:35.635  INFO 17810 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 11:25:35.891  INFO 17810 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:25:35.916  INFO 17810 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3513ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:25:35.956  INFO 17810 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:25:35.982  INFO 17810 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 11:25:35.988  INFO 17810 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 11:25:35.989  INFO 17810 --- [main] org.eclipse.jetty.server.Server          : Started @3586ms
2023-12-12 11:25:35.995  INFO 17810 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:25:35.995  INFO 17810 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 11:25:35.995  INFO 17810 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 296ms (build:41ms init:152ms start:103ms)
2023-12-12 11:25:35.999  INFO 17810 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.27 seconds (JVM running for 3.597)
2023-12-12 11:26:24.397  INFO 17810 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1ca4b1db, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=219, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:26:24.417  INFO 17810 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:26:34.433  INFO 17810 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {}
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Done

2023-12-12 11:26:34.435  INFO 17810 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:26:34.435  INFO 17810 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {}
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Done

2023-12-12 11:26:54.148  INFO 17810 --- [qtp1604020967-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1ca4b1db, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=498, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:26:54.153  INFO 17810 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:31:19.401  INFO 17810 --- [qtp1604020967-38] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7f42cf62, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=219, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 11:31:19.402  INFO 17810 --- [qtp1604020967-38] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 11:31:19.416  INFO 17810 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 11:26:55.054  INFO 17871 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17871 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 11:26:55.055  INFO 17871 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 11:26:56.460  INFO 17871 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 11:26:56.469  INFO 17871 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:26:56.470  INFO 17871 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:26:56.518  INFO 17871 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:26:56.518  INFO 17871 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1385 ms
2023-12-12 11:26:57.468  INFO 17871 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:26:57.618  INFO 17871 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:26:57.619  INFO 17871 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 11:26:57.887  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:26:57.921  INFO 17871 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3749ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:26:57.963  INFO 17871 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:26:57.988  INFO 17871 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 11:26:57.996  INFO 17871 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 11:26:57.996  INFO 17871 --- [           main] org.eclipse.jetty.server.Server          : Started @3834ms
2023-12-12 11:26:58.005  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:26:58.005  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 11:26:58.005  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 303ms (build:41ms init:145ms start:117ms)
2023-12-12 11:26:58.008  INFO 17871 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.431 seconds (JVM running for 3.847)
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 21: 17871 죽었음               java -jar agent-1.0.0.jar --spring.profiles.active=if
Execution failed.

2023-12-12 11:31:19.416  INFO 17810 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 1
2023-12-12 11:31:19.416  INFO 17810 --- [qtp1604020967-32] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 11:26:55.054  INFO 17871 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17871 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 11:26:55.055  INFO 17871 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 11:26:56.460  INFO 17871 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 11:26:56.469  INFO 17871 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 11:26:56.470  INFO 17871 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 11:26:56.518  INFO 17871 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 11:26:56.518  INFO 17871 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1385 ms
2023-12-12 11:26:57.468  INFO 17871 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 11:26:57.618  INFO 17871 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 11:26:57.619  INFO 17871 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 11:26:57.887  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 11:26:57.921  INFO 17871 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3749ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 11:26:57.963  INFO 17871 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 11:26:57.988  INFO 17871 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 11:26:57.996  INFO 17871 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 11:26:57.996  INFO 17871 --- [           main] org.eclipse.jetty.server.Server          : Started @3834ms
2023-12-12 11:26:58.005  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 11:26:58.005  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 11:26:58.005  INFO 17871 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 303ms (build:41ms init:145ms start:117ms)
2023-12-12 11:26:58.008  INFO 17871 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.431 seconds (JVM running for 3.847)
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 21: 17871 죽었음               java -jar agent-1.0.0.jar --spring.profiles.active=if
Execution failed.

2023-12-12 11:31:19.424 ERROR 17810 --- [qtp1604020967-32] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:896) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:206) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 50 common frames omitted

2023-12-12 11:31:29.413  INFO 17810 --- [qtp1604020967-38] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {17871}
kill: {17871}
Done

2023-12-12 11:31:29.413  INFO 17810 --- [qtp1604020967-38] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 11:31:29.413  INFO 17810 --- [qtp1604020967-38] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {17871}
kill: {17871}
Done

2023-12-12 13:03:39.618  INFO 17810 --- [qtp1604020967-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5dd1eac8, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=504, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:03:39.619  INFO 17810 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:05:40.223  INFO 17810 --- [qtp1604020967-34] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@48cf6537, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=219, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:05:40.224  INFO 17810 --- [qtp1604020967-34] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:05:40.235  INFO 17810 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:03:40.505  INFO 17978 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17978 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:03:40.512  INFO 17978 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:03:41.832  INFO 17978 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:03:41.851  INFO 17978 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:03:41.851  INFO 17978 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:03:41.908  INFO 17978 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:03:41.909  INFO 17978 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1335 ms
2023-12-12 13:03:42.950  INFO 17978 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:03:43.065  INFO 17978 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:03:43.066  INFO 17978 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:03:43.391  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:03:43.416  INFO 17978 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3783ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:03:43.456  INFO 17978 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:03:43.475  INFO 17978 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@f096f37{/,null,AVAILABLE}
2023-12-12 13:03:43.483  INFO 17978 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@771d1ffb{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:03:43.483  INFO 17978 --- [           main] org.eclipse.jetty.server.Server          : Started @3850ms
2023-12-12 13:03:43.492  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:03:43.492  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:03:43.492  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:42ms init:160ms start:100ms)
2023-12-12 13:03:43.496  INFO 17978 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.485 seconds (JVM running for 3.863)
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 21: 17978 죽었음               nohup java -jar agent-1.0.0.jar --spring.profiles.active=if
Execution failed.

2023-12-12 13:05:40.235  INFO 17810 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 1
2023-12-12 13:05:40.236  INFO 17810 --- [qtp1604020967-32] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:03:40.505  INFO 17978 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 17978 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:03:40.512  INFO 17978 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:03:41.832  INFO 17978 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:03:41.851  INFO 17978 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:03:41.851  INFO 17978 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:03:41.908  INFO 17978 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:03:41.909  INFO 17978 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1335 ms
2023-12-12 13:03:42.950  INFO 17978 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:03:43.065  INFO 17978 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:03:43.066  INFO 17978 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:03:43.391  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:03:43.416  INFO 17978 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3783ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:03:43.456  INFO 17978 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:03:43.475  INFO 17978 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@f096f37{/,null,AVAILABLE}
2023-12-12 13:03:43.483  INFO 17978 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@771d1ffb{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:03:43.483  INFO 17978 --- [           main] org.eclipse.jetty.server.Server          : Started @3850ms
2023-12-12 13:03:43.492  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:03:43.492  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:03:43.492  INFO 17978 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:42ms init:160ms start:100ms)
2023-12-12 13:03:43.496  INFO 17978 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.485 seconds (JVM running for 3.863)
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 21: 17978 죽었음               nohup java -jar agent-1.0.0.jar --spring.profiles.active=if
Execution failed.

2023-12-12 13:05:50.231  INFO 17810 --- [qtp1604020967-34] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {17978}
kill: {17978}
Done

2023-12-12 13:05:50.232  INFO 17810 --- [qtp1604020967-34] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:05:50.232  INFO 17810 --- [qtp1604020967-34] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {17978}
kill: {17978}
Done

2023-12-12 13:12:34.513  INFO 17810 --- [qtp1604020967-38] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@75baa412, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=498, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:12:34.513  INFO 17810 --- [qtp1604020967-38] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:13:41.147  INFO 17810 --- [qtp1604020967-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7f367d9e, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=219, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:13:41.148  INFO 17810 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:13:41.165  INFO 17810 --- [qtp1604020967-38] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:12:35.381  INFO 18042 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18042 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:12:35.400  INFO 18042 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:12:36.755  INFO 18042 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:12:36.763  INFO 18042 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:12:36.764  INFO 18042 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:12:36.812  INFO 18042 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:12:36.813  INFO 18042 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1297 ms
2023-12-12 13:12:38.138  INFO 18042 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:12:38.220  INFO 18042 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:12:38.221  INFO 18042 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:12:38.521  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:12:38.546  INFO 18042 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4022ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:12:38.585  INFO 18042 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:12:38.605  INFO 18042 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 13:12:38.613  INFO 18042 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:12:38.613  INFO 18042 --- [           main] org.eclipse.jetty.server.Server          : Started @4090ms
2023-12-12 13:12:38.621  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:12:38.621  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:12:38.621  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 290ms (build:42ms init:148ms start:100ms)
2023-12-12 13:12:38.625  INFO 18042 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.74 seconds (JVM running for 4.102)
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 21: 18042 죽었음               java -jar agent-1.0.0.jar --spring.profiles.active=if
Execution failed.

2023-12-12 13:13:41.166  INFO 17810 --- [qtp1604020967-38] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 1
2023-12-12 13:13:41.166  INFO 17810 --- [qtp1604020967-38] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:12:35.381  INFO 18042 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18042 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:12:35.400  INFO 18042 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:12:36.755  INFO 18042 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:12:36.763  INFO 18042 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:12:36.764  INFO 18042 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:12:36.812  INFO 18042 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:12:36.813  INFO 18042 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1297 ms
2023-12-12 13:12:38.138  INFO 18042 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:12:38.220  INFO 18042 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:12:38.221  INFO 18042 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:12:38.521  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:12:38.546  INFO 18042 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @4022ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:12:38.585  INFO 18042 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:12:38.605  INFO 18042 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 13:12:38.613  INFO 18042 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:12:38.613  INFO 18042 --- [           main] org.eclipse.jetty.server.Server          : Started @4090ms
2023-12-12 13:12:38.621  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:12:38.621  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:12:38.621  INFO 18042 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 290ms (build:42ms init:148ms start:100ms)
2023-12-12 13:12:38.625  INFO 18042 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.74 seconds (JVM running for 4.102)
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 21: 18042 죽었음               java -jar agent-1.0.0.jar --spring.profiles.active=if
Execution failed.

2023-12-12 13:13:51.160  INFO 17810 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {18042}
kill: {18042}
Done

2023-12-12 13:13:51.161  INFO 17810 --- [qtp1604020967-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:13:51.161  INFO 17810 --- [qtp1604020967-37] g.kr.dsp.api.processor.LogFileProcessor  : PID Check...
Running PID: {18042}
kill: {18042}
Done

2023-12-12 13:16:20.022  INFO 17810 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:16:20.037  INFO 17810 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:16:20.039  INFO 17810 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 13:16:20.048  INFO 17810 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:16:20.048  INFO 17810 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:16:20.051  INFO 17810 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 28ms (uptime:1h50m)
2023-12-12 13:16:20.061  INFO 17810 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:16:44.538  INFO 18143 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18143 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:16:44.540  INFO 18143 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:16:45.799  INFO 18143 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:16:45.807  INFO 18143 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:16:45.808  INFO 18143 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:16:45.854  INFO 18143 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:16:45.854  INFO 18143 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1236 ms
2023-12-12 13:16:46.845  INFO 18143 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:16:46.892  INFO 18143 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:16:46.893  INFO 18143 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:16:47.157  INFO 18143 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:16:47.181  INFO 18143 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3575ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:16:47.232  INFO 18143 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:16:47.269  INFO 18143 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 13:16:47.276  INFO 18143 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:16:47.276  INFO 18143 --- [main] org.eclipse.jetty.server.Server          : Started @3670ms
2023-12-12 13:16:47.283  INFO 18143 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:16:47.283  INFO 18143 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:16:47.283  INFO 18143 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 310ms (build:46ms init:138ms start:126ms)
2023-12-12 13:16:47.287  INFO 18143 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.319 seconds (JVM running for 3.681)
2023-12-12 13:16:59.134  INFO 18143 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@36c0e68a, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=498, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:16:59.157  INFO 18143 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:19:57.583  INFO 18143 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:19:57.616  INFO 18143 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 13:19:57.677  INFO 18143 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:17:00.116  INFO 18196 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18196 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:17:00.118  INFO 18196 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:17:01.395  INFO 18196 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:17:01.404  INFO 18196 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:17:01.404  INFO 18196 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:17:01.455  INFO 18196 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:17:01.455  INFO 18196 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1255 ms
2023-12-12 13:17:02.426  INFO 18196 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:17:02.482  INFO 18196 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:17:02.484  INFO 18196 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:17:02.769  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:17:02.793  INFO 18196 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3599ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:17:02.832  INFO 18196 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:17:02.855  INFO 18196 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 13:17:02.861  INFO 18196 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:17:02.862  INFO 18196 --- [           main] org.eclipse.jetty.server.Server          : Started @3668ms
2023-12-12 13:17:02.869  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:17:02.869  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:17:02.869  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 295ms (build:41ms init:155ms start:99ms)
2023-12-12 13:17:02.873  INFO 18196 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.237 seconds (JVM running for 3.679)
2023-12-12 13:19:57.583  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:19:57.611  INFO 18196 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:19:57.613  INFO 18196 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@eb507b9{/,null,STOPPED}
2023-12-12 13:19:57.622  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:19:57.623  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:19:57.628  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 45ms (uptime:2m54s)
2023-12-12 13:19:57.639  INFO 18196 --- [ionShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
Execution failed.

2023-12-12 13:19:57.678  INFO 18143 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 1
2023-12-12 13:19:57.680  INFO 18143 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:17:00.116  INFO 18196 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18196 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:17:00.118  INFO 18196 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:17:01.395  INFO 18196 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:17:01.404  INFO 18196 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:17:01.404  INFO 18196 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:17:01.455  INFO 18196 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:17:01.455  INFO 18196 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1255 ms
2023-12-12 13:17:02.426  INFO 18196 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:17:02.482  INFO 18196 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:17:02.484  INFO 18196 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:17:02.769  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:17:02.793  INFO 18196 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3599ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:17:02.832  INFO 18196 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:17:02.855  INFO 18196 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 13:17:02.861  INFO 18196 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:17:02.862  INFO 18196 --- [           main] org.eclipse.jetty.server.Server          : Started @3668ms
2023-12-12 13:17:02.869  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:17:02.869  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:17:02.869  INFO 18196 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 295ms (build:41ms init:155ms start:99ms)
2023-12-12 13:17:02.873  INFO 18196 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.237 seconds (JVM running for 3.679)
2023-12-12 13:19:57.583  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:19:57.611  INFO 18196 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:19:57.613  INFO 18196 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@eb507b9{/,null,STOPPED}
2023-12-12 13:19:57.622  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:19:57.623  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:19:57.628  INFO 18196 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 45ms (uptime:2m54s)
2023-12-12 13:19:57.639  INFO 18196 --- [ionShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
Execution failed.

2023-12-12 13:19:57.720 ERROR 18143 --- [qtp1604020967-36] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:896) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:206) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 46 common frames omitted

2023-12-12 13:19:58.621  INFO 18143 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:19:58.623  INFO 18143 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 13:19:58.630  INFO 18143 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:19:58.631  INFO 18143 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:19:58.633  INFO 18143 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 1s50ms (uptime:3m11s)
2023-12-12 13:19:58.642  INFO 18143 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:20:08.487  INFO 18259 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18259 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:20:08.489  INFO 18259 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:20:09.924  INFO 18259 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:20:09.943  INFO 18259 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:20:09.943  INFO 18259 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:20:10.005  INFO 18259 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:20:10.005  INFO 18259 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1445 ms
2023-12-12 13:20:11.058  INFO 18259 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:20:11.112  INFO 18259 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:20:11.114  INFO 18259 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:20:11.364  INFO 18259 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:20:11.388  INFO 18259 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3760ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:20:11.427  INFO 18259 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:20:11.453  INFO 18259 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 13:20:11.460  INFO 18259 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:20:11.460  INFO 18259 --- [main] org.eclipse.jetty.server.Server          : Started @3832ms
2023-12-12 13:20:11.469  INFO 18259 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:20:11.470  INFO 18259 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:20:11.470  INFO 18259 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 280ms (build:40ms init:135ms start:105ms)
2023-12-12 13:20:11.474  INFO 18259 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.48 seconds (JVM running for 3.846)
2023-12-12 13:20:15.396  INFO 18259 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:20:15.410  INFO 18259 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:20:15.412  INFO 18259 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 13:20:15.416  INFO 18259 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:20:15.416  INFO 18259 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:20:15.419  INFO 18259 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 23ms (uptime:4s)
2023-12-12 13:20:15.425  INFO 18259 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:20:18.122  INFO 18313 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18313 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:20:18.123  INFO 18313 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:20:19.471  INFO 18313 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:20:19.479  INFO 18313 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:20:19.480  INFO 18313 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:20:19.534  INFO 18313 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:20:19.535  INFO 18313 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1336 ms
2023-12-12 13:20:20.516  INFO 18313 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:20:20.569  INFO 18313 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:20:20.570  INFO 18313 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:20:20.852  INFO 18313 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:20:20.898  INFO 18313 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3555ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:20:20.938  INFO 18313 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:20:20.960  INFO 18313 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 13:20:20.968  INFO 18313 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:20:20.968  INFO 18313 --- [main] org.eclipse.jetty.server.Server          : Started @3625ms
2023-12-12 13:20:20.977  INFO 18313 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:20:20.978  INFO 18313 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:20:20.978  INFO 18313 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 348ms (build:53ms init:170ms start:125ms)
2023-12-12 13:20:20.981  INFO 18313 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.312 seconds (JVM running for 3.638)
2023-12-12 13:20:26.427  INFO 18313 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@36c0e68a, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=498, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:20:26.443  INFO 18313 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:21:47.731  INFO 18313 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:21:47.765  INFO 18313 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 13:21:47.823  INFO 18313 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:20:27.581  INFO 18366 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18366 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:20:27.583  INFO 18366 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:20:28.858  INFO 18366 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:20:28.867  INFO 18366 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:20:28.867  INFO 18366 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:20:28.912  INFO 18366 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:20:28.919  INFO 18366 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms
2023-12-12 13:20:29.939  INFO 18366 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:20:29.988  INFO 18366 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:20:29.989  INFO 18366 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:20:30.288  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:20:30.335  INFO 18366 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3874ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:20:30.374  INFO 18366 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:20:30.396  INFO 18366 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@11d4dbd6{/,null,AVAILABLE}
2023-12-12 13:20:30.404  INFO 18366 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@1da4b6b3{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:20:30.404  INFO 18366 --- [           main] org.eclipse.jetty.server.Server          : Started @3943ms
2023-12-12 13:20:30.410  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:20:30.410  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:20:30.411  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 336ms (build:41ms init:173ms start:122ms)
2023-12-12 13:20:30.414  INFO 18366 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.289 seconds (JVM running for 3.953)
2023-12-12 13:21:47.742  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:21:47.777  INFO 18366 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@1da4b6b3{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:21:47.778  INFO 18366 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@11d4dbd6{/,null,STOPPED}
2023-12-12 13:21:47.783  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:21:47.783  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:21:47.786  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 43ms (uptime:1m17s)
2023-12-12 13:21:47.792  INFO 18366 --- [ionShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
Execution failed.

2023-12-12 13:21:47.823  INFO 18313 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 1
2023-12-12 13:21:47.824  INFO 18313 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: PID Check...
Running PID: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 13:20:27.581  INFO 18366 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18366 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 13:20:27.583  INFO 18366 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 13:20:28.858  INFO 18366 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 13:20:28.867  INFO 18366 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:20:28.867  INFO 18366 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:20:28.912  INFO 18366 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:20:28.919  INFO 18366 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms
2023-12-12 13:20:29.939  INFO 18366 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:20:29.988  INFO 18366 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:20:29.989  INFO 18366 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 13:20:30.288  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:20:30.335  INFO 18366 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3874ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:20:30.374  INFO 18366 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:20:30.396  INFO 18366 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@11d4dbd6{/,null,AVAILABLE}
2023-12-12 13:20:30.404  INFO 18366 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@1da4b6b3{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:20:30.404  INFO 18366 --- [           main] org.eclipse.jetty.server.Server          : Started @3943ms
2023-12-12 13:20:30.410  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:20:30.410  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:20:30.411  INFO 18366 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 336ms (build:41ms init:173ms start:122ms)
2023-12-12 13:20:30.414  INFO 18366 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.289 seconds (JVM running for 3.953)
2023-12-12 13:21:47.742  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:21:47.777  INFO 18366 --- [ - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@1da4b6b3{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 13:21:47.778  INFO 18366 --- [ - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@11d4dbd6{/,null,STOPPED}
2023-12-12 13:21:47.783  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:21:47.783  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 13:21:47.786  INFO 18366 --- [ionShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 43ms (uptime:1m17s)
2023-12-12 13:21:47.792  INFO 18366 --- [ionShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
Execution failed.

2023-12-12 13:21:47.868 ERROR 18313 --- [qtp1604020967-36] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 10 common frames omitted

2023-12-12 13:21:48.770  INFO 18313 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:21:48.771  INFO 18313 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 13:21:48.779  INFO 18313 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:21:48.779  INFO 18313 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:21:48.781  INFO 18313 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 1s50ms (uptime:1m27s)
2023-12-12 13:21:48.792  INFO 18313 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:25:04.775  INFO 18471 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18471 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:25:04.778  INFO 18471 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:25:06.255  INFO 18471 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:25:06.263  INFO 18471 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:25:06.263  INFO 18471 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:25:06.309  INFO 18471 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:25:06.309  INFO 18471 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1449 ms
2023-12-12 13:25:07.273  INFO 18471 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:25:07.336  INFO 18471 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:25:07.337  INFO 18471 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:25:07.612  INFO 18471 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:25:07.645  INFO 18471 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3850ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:25:07.683  INFO 18471 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:25:07.701  INFO 18471 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 13:25:07.708  INFO 18471 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:25:07.708  INFO 18471 --- [main] org.eclipse.jetty.server.Server          : Started @3913ms
2023-12-12 13:25:07.716  INFO 18471 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:25:07.716  INFO 18471 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:25:07.716  INFO 18471 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 308ms (build:40ms init:165ms start:103ms)
2023-12-12 13:25:07.723  INFO 18471 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.523 seconds (JVM running for 3.928)
2023-12-12 13:25:26.517  INFO 18471 --- [qtp671981276-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@480f28b3, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=498, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:25:26.532  INFO 18471 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:44:10.840  INFO 18615 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18615 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:44:10.842  INFO 18615 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:44:12.048  INFO 18615 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:44:12.058  INFO 18615 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:44:12.058  INFO 18615 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:44:12.113  INFO 18615 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:44:12.114  INFO 18615 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1201 ms
2023-12-12 13:44:13.060  INFO 18615 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:44:13.104  INFO 18615 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:44:13.105  INFO 18615 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:44:13.374  INFO 18615 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:44:13.402  INFO 18615 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3471ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:44:13.441  INFO 18615 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:44:13.464  INFO 18615 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 13:44:13.470  INFO 18615 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:44:13.470  INFO 18615 --- [main] org.eclipse.jetty.server.Server          : Started @3540ms
2023-12-12 13:44:13.478  INFO 18615 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:44:13.478  INFO 18615 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:44:13.478  INFO 18615 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 292ms (build:38ms init:150ms start:104ms)
2023-12-12 13:44:13.495  INFO 18615 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.165 seconds (JVM running for 3.565)
2023-12-12 13:44:27.314  INFO 18615 --- [qtp1878267309-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1233f7bc, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:44:27.335  INFO 18615 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:44:27.343  INFO 18615 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:20 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745609 12월 12 13:20 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:44:27.343  INFO 18615 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:44:27.344  INFO 18615 --- [qtp1878267309-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 13:44:45.180  INFO 18666 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18666 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:44:45.182  INFO 18666 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:44:46.344  INFO 18666 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:44:46.351  INFO 18666 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:44:46.351  INFO 18666 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:44:46.410  INFO 18666 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:44:46.410  INFO 18666 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1182 ms
2023-12-12 13:44:47.312  INFO 18666 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:44:47.365  WARN 18666 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
2023-12-12 13:44:47.372  INFO 18666 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-12-12 13:44:47.376 ERROR 18666 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Failed to destroy the filter named [Tomcat WebSocket (JSR356) Filter] of type [org.apache.tomcat.websocket.server.WsFilter]

java.lang.AbstractMethodError: Receiver class org.apache.tomcat.websocket.server.WsFilter does not define or inherit an implementation of the resolved method 'abstract void destroy()' of interface javax.servlet.Filter.
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:303) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4643) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5455) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1398) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:983) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1398) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:983) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:495) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:982) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:496) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at go.kr.dsp.api.DspApiApplication.main(DspApiApplication.java:10) ~[classes!/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[agent-1.0.0.jar:na]

2023-12-12 13:44:47.399  INFO 18666 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-12-12 13:44:47.419 ERROR 18666 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar!/:5.3.24]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at go.kr.dsp.api.DspApiApplication.main(DspApiApplication.java:10) ~[classes!/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[agent-1.0.0.jar:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar!/:5.3.24]
	... 22 common frames omitted
Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.7.7.jar!/:2.7.7]
	... 24 common frames omitted
Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1076) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234) ~[tomcat-embed-core-9.0.70.jar!/:na]
	... 26 common frames omitted
Caused by: java.net.BindException: 주소가 이미 사용 중입니다
	at java.base/sun.nio.ch.Net.bind0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.bind(Net.java:459) ~[na:na]
	at java.base/sun.nio.ch.Net.bind(Net.java:448) ~[na:na]
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227) ~[na:na]
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:275) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:230) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:615) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1073) ~[tomcat-embed-core-9.0.70.jar!/:na]
	... 28 common frames omitted

2023-12-12 13:45:00.986  INFO 18695 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18695 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:45:00.987  INFO 18695 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:45:02.277  INFO 18695 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:45:02.287  INFO 18695 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:45:02.287  INFO 18695 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:45:02.349  INFO 18695 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:45:02.349  INFO 18695 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1302 ms
2023-12-12 13:45:03.323  INFO 18695 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:45:03.377  INFO 18695 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:45:03.378  INFO 18695 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:45:03.704  INFO 18695 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:45:03.730  INFO 18695 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3555ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:45:03.765  INFO 18695 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:45:03.786  INFO 18695 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 13:45:03.791  INFO 18695 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:45:03.792  INFO 18695 --- [main] org.eclipse.jetty.server.Server          : Started @3617ms
2023-12-12 13:45:03.798  INFO 18695 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:45:03.798  INFO 18695 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:45:03.798  INFO 18695 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 344ms (build:39ms init:211ms start:94ms)
2023-12-12 13:45:03.802  INFO 18695 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.273 seconds (JVM running for 3.627)
2023-12-12 13:45:12.972  INFO 18695 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@c7d8519, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:45:12.987  INFO 18695 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:45:12.999  INFO 18695 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:20 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745609 12월 12 13:20 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:45:13.000  INFO 18695 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:45:13.001  INFO 18695 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 13:45:48.958  INFO 18695 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:45:48.973  INFO 18695 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:45:48.980  INFO 18695 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 13:45:48.993  INFO 18695 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:45:48.993  INFO 18695 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:45:48.995  INFO 18695 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 37ms (uptime:45s)
2023-12-12 13:45:49.024  INFO 18695 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:46:24.719  INFO 18789 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18789 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:46:24.722  INFO 18789 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:46:25.902  INFO 18789 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:46:25.911  INFO 18789 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:46:25.912  INFO 18789 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:46:25.969  INFO 18789 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:46:25.970  INFO 18789 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1146 ms
2023-12-12 13:46:26.910  INFO 18789 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:46:26.972  INFO 18789 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:46:26.974  INFO 18789 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:46:27.225  INFO 18789 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:46:27.249  INFO 18789 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3339ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:46:27.310  INFO 18789 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:46:27.331  INFO 18789 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 13:46:27.337  INFO 18789 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:46:27.337  INFO 18789 --- [main] org.eclipse.jetty.server.Server          : Started @3427ms
2023-12-12 13:46:27.343  INFO 18789 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:46:27.343  INFO 18789 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:46:27.343  INFO 18789 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 299ms (build:45ms init:137ms start:117ms)
2023-12-12 13:46:27.347  INFO 18789 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.107 seconds (JVM running for 3.437)
2023-12-12 13:46:34.850  INFO 18789 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@480f28b3, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:46:34.865  INFO 18789 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:46:34.883  INFO 18789 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:46 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745609 12월 12 13:46 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:46:34.884  INFO 18789 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:46:34.885  INFO 18789 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 13:50:13.168  INFO 18789 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:50:13.186  INFO 18789 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:50:13.187  INFO 18789 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 13:50:13.192  INFO 18789 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:50:13.192  INFO 18789 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:50:13.194  INFO 18789 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 25ms (uptime:3m45s)
2023-12-12 13:50:13.200  INFO 18789 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:50:14.500  INFO 18887 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18887 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:50:14.503  INFO 18887 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:50:15.772  INFO 18887 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:50:15.780  INFO 18887 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:50:15.781  INFO 18887 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:50:15.825  INFO 18887 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:50:15.825  INFO 18887 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1268 ms
2023-12-12 13:50:16.745  INFO 18887 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:50:16.787  INFO 18887 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:50:16.788  INFO 18887 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:50:17.067  INFO 18887 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:50:17.095  INFO 18887 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3361ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:50:17.136  INFO 18887 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:50:17.161  INFO 18887 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3ec2ecea{/,null,AVAILABLE}
2023-12-12 13:50:17.169  INFO 18887 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:50:17.169  INFO 18887 --- [main] org.eclipse.jetty.server.Server          : Started @3435ms
2023-12-12 13:50:17.177  INFO 18887 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:50:17.177  INFO 18887 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:50:17.177  INFO 18887 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 323ms (build:38ms init:175ms start:110ms)
2023-12-12 13:50:17.181  INFO 18887 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.113 seconds (JVM running for 3.447)
2023-12-12 13:50:29.551  INFO 18887 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@36c0e68a, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:50:29.571  INFO 18887 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:50:29.586  INFO 18887 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:50 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745637 12월 12 13:50 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:50:29.587  INFO 18887 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:50:29.587  INFO 18887 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:50 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745637 12월 12 13:50 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:52:13.637  INFO 18887 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:52:13.649  INFO 18887 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:52:13.651  INFO 18887 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@3ec2ecea{/,null,STOPPED}
2023-12-12 13:52:13.659  INFO 18887 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:52:13.659  INFO 18887 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:52:13.662  INFO 18887 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 24ms (uptime:1m56s)
2023-12-12 13:52:13.670  INFO 18887 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:52:28.825  INFO 18964 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 18964 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:52:28.826  INFO 18964 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:52:30.087  INFO 18964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:52:30.095  INFO 18964 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:52:30.095  INFO 18964 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:52:30.149  INFO 18964 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:52:30.149  INFO 18964 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1289 ms
2023-12-12 13:52:31.112  INFO 18964 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:52:31.223  INFO 18964 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:52:31.224  INFO 18964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:52:31.483  INFO 18964 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:52:31.513  INFO 18964 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3610ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:52:31.553  INFO 18964 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:52:31.587  INFO 18964 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3ec2ecea{/,null,AVAILABLE}
2023-12-12 13:52:31.594  INFO 18964 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:52:31.595  INFO 18964 --- [main] org.eclipse.jetty.server.Server          : Started @3692ms
2023-12-12 13:52:31.602  INFO 18964 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:52:31.602  INFO 18964 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:52:31.602  INFO 18964 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 311ms (build:44ms init:149ms start:118ms)
2023-12-12 13:52:31.606  INFO 18964 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.294 seconds (JVM running for 3.703)
2023-12-12 13:52:41.300  INFO 18964 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@16f2777b, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:52:41.318  INFO 18964 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:52:41.331  INFO 18964 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 13:52:41.333  INFO 18964 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:52:41.333  INFO 18964 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:52 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745629 12월 12 13:52 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:53:24.303  INFO 18964 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 13:53:24.313  INFO 18964 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:53:24.314  INFO 18964 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@3ec2ecea{/,null,STOPPED}
2023-12-12 13:53:24.323  INFO 18964 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 13:53:24.323  INFO 18964 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:53:24.325  INFO 18964 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 21ms (uptime:52s)
2023-12-12 13:53:24.332  INFO 18964 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 13:53:38.968  INFO 19061 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19061 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 13:53:38.970  INFO 19061 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 13:53:40.257  INFO 19061 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 13:53:40.266  INFO 19061 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 13:53:40.266  INFO 19061 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 13:53:40.331  INFO 19061 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 13:53:40.331  INFO 19061 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1308 ms
2023-12-12 13:53:41.325  INFO 19061 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 13:53:41.377  INFO 19061 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 13:53:41.378  INFO 19061 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 13:53:41.647  INFO 19061 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 13:53:41.681  INFO 19061 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3463ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 13:53:41.721  INFO 19061 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 13:53:41.748  INFO 19061 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@11d4dbd6{/,null,AVAILABLE}
2023-12-12 13:53:41.755  INFO 19061 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@1da4b6b3{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 13:53:41.756  INFO 19061 --- [main] org.eclipse.jetty.server.Server          : Started @3537ms
2023-12-12 13:53:41.766  INFO 19061 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 13:53:41.767  INFO 19061 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 13:53:41.767  INFO 19061 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 303ms (build:40ms init:144ms start:119ms)
2023-12-12 13:53:41.770  INFO 19061 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.219 seconds (JVM running for 3.552)
2023-12-12 13:53:50.870  INFO 19061 --- [qtp1002410023-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@17ac3e6b, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:53:50.892  INFO 19061 --- [qtp1002410023-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:53:50.892  INFO 19061 --- [qtp1002410023-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 13:53:50.902  INFO 19061 --- [qtp1002410023-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 13:53:50.903  INFO 19061 --- [qtp1002410023-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 13:58:03.060  INFO 19061 --- [qtp1002410023-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@255a8d21, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=506, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 13:58:03.061  INFO 19061 --- [qtp1002410023-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 13:58:03.061  INFO 19061 --- [qtp1002410023-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: #!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi
#
echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi
2023-12-12 14:04:39.142  INFO 19061 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 14:04:39.150  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:40.152  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 44 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:41.153  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 43 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:42.154  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 42 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:43.155  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 41 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:44.155  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 40 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:45.157  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 39 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:46.157  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 38 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:47.158  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 37 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:48.159  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 36 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:49.159  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 35 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:50.161  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 34 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:51.161  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 33 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:52.162  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 32 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:53.163  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 31 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:54.164  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 30 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:55.166  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 29 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:56.167  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 28 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:57.168  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 27 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:58.170  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 26 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:04:59.171  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 25 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:00.172  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 24 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:01.174  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 23 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:02.174  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 22 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:03.175  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 21 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:04.176  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 20 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:05.177  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 19 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:06.179  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 18 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:07.180  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 17 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:08.181  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 16 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:09.182  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 15 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:10.183  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 14 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:11.184  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 13 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:12.185  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 12 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:13.186  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 11 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:14.187  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:15.188  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:16.188  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:17.190  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:18.191  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:19.192  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:20.192  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:21.194  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:22.194  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:23.196  INFO 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 14:05:24.149  WARN 19061 --- [SpringApplicationShutdownHook] o.a.c.i.engine.DefaultShutdownStrategy   : Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
2023-12-12 14:05:24.149  WARN 19061 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Interrupted while waiting during graceful shutdown, will force shutdown now.
2023-12-12 14:05:24.152  INFO 19061 --- [SpringApplicationShutdownHook] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@1da4b6b3{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:05:24.153  INFO 19061 --- [SpringApplicationShutdownHook] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@11d4dbd6{/,null,STOPPED}
2023-12-12 14:05:54.154  WARN 19061 --- [SpringApplicationShutdownHook] o.e.jetty.util.thread.QueuedThreadPool   : QueuedThreadPool[qtp1002410023]@3bbf9027{STOPPING,8<=0<=200,i=7,r=-1,q=0}[NO_TRY] Couldn't stop Thread[qtp1002410023-35,5,main]
2023-12-12 14:05:54.158  INFO 19061 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (total:1 stopped:1 forced:1)
2023-12-12 14:05:54.158  INFO 19061 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Forced stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:05:54.160  WARN 19061 --- [SpringApplicationShutdownHook] o.a.c.i.e.DefaultInflightRepository      : Shutting down while there are still 1 inflight exchanges.
2023-12-12 14:05:54.162  INFO 19061 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 1m15s19ms (uptime:12m12s)
2023-12-12 14:05:54.166  INFO 19061 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 14:23:07.502  INFO 19219 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19219 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 14:23:07.504  INFO 19219 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 14:23:08.773  INFO 19219 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 14:23:08.782  INFO 19219 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 14:23:08.782  INFO 19219 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 14:23:08.835  INFO 19219 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 14:23:08.835  INFO 19219 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1252 ms
2023-12-12 14:23:09.851  INFO 19219 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 14:23:09.924  INFO 19219 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 14:23:09.925  INFO 19219 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 14:23:10.194  INFO 19219 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 14:23:10.219  INFO 19219 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3670ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 14:23:10.257  INFO 19219 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 14:23:10.277  INFO 19219 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 14:23:10.285  INFO 19219 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:23:10.285  INFO 19219 --- [main] org.eclipse.jetty.server.Server          : Started @3736ms
2023-12-12 14:23:10.292  INFO 19219 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 14:23:10.293  INFO 19219 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:23:10.293  INFO 19219 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 282ms (build:38ms init:146ms start:98ms)
2023-12-12 14:23:10.296  INFO 19219 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.343 seconds (JVM running for 3.748)
2023-12-12 14:23:20.014  INFO 19219 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@4dc2e253, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:23:20.031  INFO 19219 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:23:20.032  INFO 19219 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 14:23:20.046  INFO 19219 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:23:20.047  INFO 19219 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과: Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 14:26:35.147  INFO 19219 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 14:26:35.166  INFO 19219 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:26:35.173  INFO 19219 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 14:26:35.179  INFO 19219 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 14:26:35.179  INFO 19219 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:26:35.181  INFO 19219 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 33ms (uptime:3m24s)
2023-12-12 14:26:35.186  INFO 19219 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 14:26:49.402  INFO 19296 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19296 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 14:26:49.403  INFO 19296 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 14:26:50.667  INFO 19296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 14:26:50.674  INFO 19296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 14:26:50.674  INFO 19296 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 14:26:50.718  INFO 19296 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 14:26:50.718  INFO 19296 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1236 ms
2023-12-12 14:26:51.671  INFO 19296 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 14:26:51.718  INFO 19296 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 14:26:51.719  INFO 19296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 14:26:51.981  INFO 19296 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 14:26:52.009  INFO 19296 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3424ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 14:26:52.048  INFO 19296 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 14:26:52.071  INFO 19296 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@7fc7c4a{/,null,AVAILABLE}
2023-12-12 14:26:52.079  INFO 19296 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4d6ee47{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:26:52.079  INFO 19296 --- [main] org.eclipse.jetty.server.Server          : Started @3493ms
2023-12-12 14:26:52.086  INFO 19296 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 14:26:52.086  INFO 19296 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:26:52.086  INFO 19296 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 297ms (build:48ms init:145ms start:104ms)
2023-12-12 14:26:52.089  INFO 19296 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.183 seconds (JVM running for 3.504)
2023-12-12 14:27:01.578  INFO 19296 --- [qtp367066629-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@77fa2acd, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:27:01.595  INFO 19296 --- [qtp367066629-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:27:01.596  INFO 19296 --- [qtp367066629-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 14:27:01.608  INFO 19296 --- [qtp367066629-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:27:01.609  INFO 19296 --- [qtp367066629-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 14:27:50.923  INFO 19296 --- [qtp367066629-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@280fdcf7, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:27:50.924  INFO 19296 --- [qtp367066629-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:27:50.924  INFO 19296 --- [qtp367066629-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 14:27:50.928  INFO 19296 --- [qtp367066629-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:27:50.928  INFO 19296 --- [qtp367066629-35] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 14:28:35.693  INFO 19296 --- [qtp367066629-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@196d9428, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:28:35.694  INFO 19296 --- [qtp367066629-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:28:35.694  INFO 19296 --- [qtp367066629-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: #!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 14:28:35.697  INFO 19296 --- [qtp367066629-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:28:35.697  INFO 19296 --- [qtp367066629-35] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 14:29:23.692  INFO 19296 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 14:29:23.701  INFO 19296 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@4d6ee47{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:29:23.702  INFO 19296 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@7fc7c4a{/,null,STOPPED}
2023-12-12 14:29:23.713  INFO 19296 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 14:29:23.713  INFO 19296 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:29:23.715  INFO 19296 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 23ms (uptime:2m31s)
2023-12-12 14:29:23.721  INFO 19296 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 14:29:36.612  INFO 19377 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19377 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 14:29:36.614  INFO 19377 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 14:29:37.884  INFO 19377 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 14:29:37.895  INFO 19377 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 14:29:37.895  INFO 19377 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 14:29:37.940  INFO 19377 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 14:29:37.940  INFO 19377 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1253 ms
2023-12-12 14:29:38.892  INFO 19377 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 14:29:38.948  INFO 19377 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 14:29:38.950  INFO 19377 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 14:29:39.202  INFO 19377 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 14:29:39.225  INFO 19377 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3587ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 14:29:39.262  INFO 19377 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 14:29:39.280  INFO 19377 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 14:29:39.289  INFO 19377 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:29:39.289  INFO 19377 --- [main] org.eclipse.jetty.server.Server          : Started @3652ms
2023-12-12 14:29:39.297  INFO 19377 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 14:29:39.298  INFO 19377 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:29:39.298  INFO 19377 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 273ms (build:46ms init:132ms start:95ms)
2023-12-12 14:29:39.301  INFO 19377 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.292 seconds (JVM running for 3.664)
2023-12-12 14:29:46.865  INFO 19377 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@606248c2, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:29:46.880  INFO 19377 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:29:46.881  INFO 19377 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 14:29:46.908  INFO 19377 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:29:46.908  INFO 19377 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 14:32:08.630  INFO 19377 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 14:32:08.639  INFO 19377 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:32:08.640  INFO 19377 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 14:32:08.644  INFO 19377 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 14:32:08.644  INFO 19377 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:32:08.646  INFO 19377 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 16ms (uptime:2m29s)
2023-12-12 14:32:08.652  INFO 19377 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 14:32:14.164  INFO 19434 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19434 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 14:32:14.166  INFO 19434 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 14:32:15.404  INFO 19434 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 14:32:15.413  INFO 19434 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 14:32:15.413  INFO 19434 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 14:32:15.467  INFO 19434 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 14:32:15.468  INFO 19434 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1233 ms
2023-12-12 14:32:16.473  INFO 19434 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 14:32:16.522  INFO 19434 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 14:32:16.523  INFO 19434 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 14:32:16.797  INFO 19434 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 14:32:16.826  INFO 19434 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3461ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 14:32:16.863  INFO 19434 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 14:32:16.887  INFO 19434 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 14:32:16.895  INFO 19434 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 14:32:16.895  INFO 19434 --- [main] org.eclipse.jetty.server.Server          : Started @3531ms
2023-12-12 14:32:16.904  INFO 19434 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 14:32:16.904  INFO 19434 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 14:32:16.904  INFO 19434 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 306ms (build:41ms init:159ms start:106ms)
2023-12-12 14:32:16.908  INFO 19434 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.196 seconds (JVM running for 3.544)
2023-12-12 14:32:31.852  INFO 19434 --- [qtp1878267309-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@48cf6537, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:32:31.873  INFO 19434 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:32:31.873  INFO 19434 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 14:32:31.888  INFO 19434 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:32:31.889  INFO 19434 --- [qtp1878267309-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 14:42:29.082  INFO 19434 --- [qtp1878267309-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@4f6a2e1b, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=507, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:42:29.083  INFO 19434 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:42:29.083  INFO 19434 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi
#
echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 14:42:32.744  INFO 19434 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:42:32.745  INFO 19434 --- [qtp1878267309-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 14:42:30.032  INFO 19496 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19496 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 14:42:30.034  INFO 19496 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 14:42:31.333  INFO 19496 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 14:42:31.341  INFO 19496 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 14:42:31.341  INFO 19496 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 14:42:31.385  INFO 19496 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 14:42:31.385  INFO 19496 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1256 ms
2023-12-12 14:42:32.372  INFO 19496 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 14:42:32.422  INFO 19496 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 14:42:32.423  INFO 19496 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 14:42:32.677  INFO 19496 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 14:42:32.700  INFO 19496 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3603ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 14:42:32.741  INFO 19496 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS

2023-12-12 14:49:21.368  INFO 19434 --- [qtp1878267309-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7082a5e0, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 14:49:21.370  INFO 19434 --- [qtp1878267309-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 14:49:21.370  INFO 19434 --- [qtp1878267309-37] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 14:49:31.387  INFO 19434 --- [qtp1878267309-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 14:49:31.391  INFO 19434 --- [qtp1878267309-37] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19496}
kill: {19496}
Done

2023-12-12 15:13:48.634  INFO 19434 --- [qtp1878267309-34] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@8b7be4f, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:13:48.635  INFO 19434 --- [qtp1878267309-34] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:13:48.635  INFO 19434 --- [qtp1878267309-34] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 15:13:48.638  INFO 19434 --- [qtp1878267309-34] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:13:48.638  INFO 19434 --- [qtp1878267309-34] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 13:53 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745679 12월 12 13:53 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 15:13:56.870  INFO 19434 --- [qtp1878267309-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@8b7be4f, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:13:56.871  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:13:56.871  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:16:43.434  INFO 19434 --- [qtp1878267309-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7a7ace90, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:16:43.435  INFO 19434 --- [qtp1878267309-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:16:43.435  INFO 19434 --- [qtp1878267309-37] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:16:43.448  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:16:43.449  INFO 19434 --- [qtp1878267309-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:14:07.699  INFO 19584 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19584 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:14:07.701  INFO 19584 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:14:09.058  INFO 19584 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:14:09.066  INFO 19584 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:14:09.067  INFO 19584 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:14:09.108  INFO 19584 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:14:09.109  INFO 19584 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1353 ms
2023-12-12 15:14:10.002  INFO 19584 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:14:10.050  INFO 19584 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:14:10.051  INFO 19584 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:14:10.294  INFO 19584 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:14:10.318  INFO 19584 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3435ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:14:10.366  INFO 19584 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:14:10.385  INFO 19584 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 15:14:10.394  INFO 19584 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:14:10.395  INFO 19584 --- [           main] org.eclipse.jetty.server.Server          : Started @3511ms
2023-12-12 15:14:10.401  INFO 19584 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:14:10.401  INFO 19584 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:14:10.401  INFO 19584 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 305ms (build:52ms init:147ms start:106ms)
2023-12-12 15:14:10.405  INFO 19584 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.195 seconds (JVM running for 3.521)

2023-12-12 15:16:43.471 ERROR 19434 --- [qtp1878267309-32] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:896) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:206) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 50 common frames omitted

2023-12-12 15:16:55.551  INFO 19434 --- [qtp1878267309-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:16:55.551  INFO 19434 --- [qtp1878267309-37] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19584}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: 19584: command not found
kill: {19584}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:16:54.248  INFO 19641 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19641 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:16:54.250  INFO 19641 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:16:55.533  INFO 19641 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:16:55.542  INFO 19641 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:16:55.542  INFO 19641 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]

2023-12-12 15:24:07.532  INFO 19434 --- [qtp1878267309-34] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1016dffa, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:24:07.533  INFO 19434 --- [qtp1878267309-34] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:24:07.533  INFO 19434 --- [qtp1878267309-34] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 15:24:17.545  INFO 19434 --- [qtp1878267309-34] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:24:17.546  INFO 19434 --- [qtp1878267309-34] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19641}
kill: {19641}
Done

2023-12-12 15:24:33.616  INFO 19434 --- [qtp1878267309-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1016dffa, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:24:33.617  INFO 19434 --- [qtp1878267309-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:24:33.617  INFO 19434 --- [qtp1878267309-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:25:18.234  INFO 19434 --- [qtp1878267309-39] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@3f48e4d2, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:25:18.235  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:25:18.235  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:25:18.256  INFO 19434 --- [qtp1878267309-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:25:18.256  INFO 19434 --- [qtp1878267309-35] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:24:44.541  INFO 19712 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19712 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:24:44.543  INFO 19712 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:24:45.751  INFO 19712 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:24:45.760  INFO 19712 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:24:45.760  INFO 19712 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:24:45.812  INFO 19712 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:24:45.812  INFO 19712 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1200 ms
2023-12-12 15:24:46.803  INFO 19712 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:24:46.867  INFO 19712 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:24:46.868  INFO 19712 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:24:47.121  INFO 19712 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:24:47.144  INFO 19712 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3515ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:24:47.181  INFO 19712 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:24:47.203  INFO 19712 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 15:24:47.209  INFO 19712 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:24:47.209  INFO 19712 --- [           main] org.eclipse.jetty.server.Server          : Started @3581ms
2023-12-12 15:24:47.216  INFO 19712 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:24:47.216  INFO 19712 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:24:47.216  INFO 19712 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 294ms (build:48ms init:152ms start:94ms)
2023-12-12 15:24:47.220  INFO 19712 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.226 seconds (JVM running for 3.591)

2023-12-12 15:25:18.265 ERROR 19434 --- [qtp1878267309-35] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 11 common frames omitted

2023-12-12 15:26:10.504  INFO 19434 --- [qtp1878267309-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5328b479, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=506, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:26:10.505  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:26:10.505  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:26:13.791  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:26:13.792  INFO 19434 --- [qtp1878267309-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19772}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:26:11.375  INFO 19825 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19825 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:26:11.377  INFO 19825 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:26:12.631  INFO 19825 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:26:12.639  INFO 19825 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:26:12.639  INFO 19825 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:26:12.680  INFO 19825 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:26:12.680  INFO 19825 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1260 ms
2023-12-12 15:26:13.748  INFO 19825 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:26:13.788  WARN 19825 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server

2023-12-12 15:26:35.197  INFO 19434 --- [qtp1878267309-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5328b479, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:26:35.198  INFO 19434 --- [qtp1878267309-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:26:35.198  INFO 19434 --- [qtp1878267309-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 15:26:35.227  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:26:35.227  INFO 19434 --- [qtp1878267309-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19712}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: 19712: command not found
kill: {19712}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:25:29.097  INFO 19772 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19772 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:25:29.099  INFO 19772 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:25:30.294  INFO 19772 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:25:30.303  INFO 19772 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:25:30.303  INFO 19772 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:25:30.354  INFO 19772 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:25:30.354  INFO 19772 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1215 ms
2023-12-12 15:25:31.379  INFO 19772 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:25:31.422  INFO 19772 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:25:31.423  INFO 19772 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:25:31.701  INFO 19772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:25:31.724  INFO 19772 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3468ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:25:31.762  INFO 19772 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:25:31.786  INFO 19772 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 15:25:31.792  INFO 19772 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:25:31.792  INFO 19772 --- [           main] org.eclipse.jetty.server.Server          : Started @3536ms
2023-12-12 15:25:31.798  INFO 19772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:25:31.798  INFO 19772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:25:31.799  INFO 19772 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 282ms (build:49ms init:136ms start:97ms)
2023-12-12 15:25:31.802  INFO 19772 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.17 seconds (JVM running for 3.546)

2023-12-12 15:26:35.235 ERROR 19434 --- [qtp1878267309-39] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 11 common frames omitted

2023-12-12 15:26:45.222  INFO 19434 --- [qtp1878267309-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:26:45.222  INFO 19434 --- [qtp1878267309-35] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19772}
kill: {19772}
Done

2023-12-12 15:27:28.979  INFO 19434 --- [qtp1878267309-39] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@9cc7920, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:27:28.980  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:27:28.980  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:27:39.842  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:27:39.842  INFO 19434 --- [qtp1878267309-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)


2023-12-12 15:28:44.153  INFO 19434 --- [qtp1878267309-39] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5e552de9, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:28:44.153  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:28:44.154  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 15:28:54.163  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:28:54.163  INFO 19434 --- [qtp1878267309-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19876}
kill: {19876}
Done

2023-12-12 15:29:48.618  INFO 19434 --- [qtp1878267309-39] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1336ba6c, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:29:48.618  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:29:48.618  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:30:00.790  INFO 19434 --- [qtp1878267309-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:30:00.791  INFO 19434 --- [qtp1878267309-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:29:59.517  INFO 19944 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 19944 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:29:59.519  INFO 19944 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:30:00.771  INFO 19944 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:30:00.781  INFO 19944 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:30:00.781  INFO 19944 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]

2023-12-12 15:31:19.944  INFO 19434 --- [qtp1878267309-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@d707bf3, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:31:19.945  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:31:19.945  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 15:31:29.953  INFO 19434 --- [qtp1878267309-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:31:29.954  INFO 19434 --- [qtp1878267309-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {19944}
kill: {19944}
Done

2023-12-12 15:33:25.943  INFO 20023 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20023 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 15:33:25.949  INFO 20023 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 15:33:27.167  INFO 20023 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 15:33:27.175  INFO 20023 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:33:27.176  INFO 20023 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:33:27.233  INFO 20023 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:33:27.234  INFO 20023 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1235 ms
2023-12-12 15:33:28.144  INFO 20023 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:33:28.190  INFO 20023 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:33:28.191  INFO 20023 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 15:33:28.462  INFO 20023 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:33:28.485  INFO 20023 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3351ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:33:28.524  INFO 20023 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:33:28.545  INFO 20023 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 15:33:28.551  INFO 20023 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 15:33:28.552  INFO 20023 --- [main] org.eclipse.jetty.server.Server          : Started @3417ms
2023-12-12 15:33:28.558  INFO 20023 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:33:28.558  INFO 20023 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 15:33:28.558  INFO 20023 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 298ms (build:38ms init:165ms start:95ms)
2023-12-12 15:33:28.562  INFO 20023 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.05 seconds (JVM running for 3.427)
2023-12-12 15:35:13.716  INFO 20023 --- [qtp671981276-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@36c0e68a, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:35:13.731  INFO 20023 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:35:13.732  INFO 20023 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:36:12.434  INFO 20023 --- [qtp671981276-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@489bb11d, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:36:12.436  INFO 20023 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:36:12.436  INFO 20023 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 15:36:22.450  INFO 20023 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:36:22.450  INFO 20023 --- [qtp671981276-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:35:24.664  INFO 20082 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20082 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:35:24.666  INFO 20082 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:35:25.983  INFO 20082 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:35:25.991  INFO 20082 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:35:25.992  INFO 20082 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:35:26.065  INFO 20082 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:35:26.065  INFO 20082 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1345 ms
2023-12-12 15:35:27.081  INFO 20082 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:35:27.125  INFO 20082 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:35:27.126  INFO 20082 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:35:27.419  INFO 20082 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:35:27.443  INFO 20082 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3686ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:35:27.479  INFO 20082 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:35:27.496  INFO 20082 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 15:35:27.504  INFO 20082 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:35:27.504  INFO 20082 --- [           main] org.eclipse.jetty.server.Server          : Started @3747ms
2023-12-12 15:35:27.513  INFO 20082 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:35:27.513  INFO 20082 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:35:27.513  INFO 20082 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 317ms (build:47ms init:177ms start:93ms)
2023-12-12 15:35:27.516  INFO 20082 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.36 seconds (JVM running for 3.759)

2023-12-12 15:36:22.500 ERROR 20023 --- [qtp671981276-36] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 11 common frames omitted

2023-12-12 15:36:32.448  INFO 20023 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:36:32.448  INFO 20023 --- [qtp671981276-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {20082}
kill: {20082}
Done

2023-12-12 15:44:37.681  INFO 20144 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20144 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 15:44:37.683  INFO 20144 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 15:44:38.921  INFO 20144 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 15:44:38.929  INFO 20144 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:44:38.930  INFO 20144 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:44:38.984  INFO 20144 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:44:38.984  INFO 20144 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1239 ms
2023-12-12 15:44:39.989  INFO 20144 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:44:40.033  INFO 20144 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:44:40.034  INFO 20144 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 15:44:40.315  INFO 20144 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:44:40.341  INFO 20144 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3446ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:44:40.380  INFO 20144 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:44:40.402  INFO 20144 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 15:44:40.409  INFO 20144 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 15:44:40.409  INFO 20144 --- [main] org.eclipse.jetty.server.Server          : Started @3514ms
2023-12-12 15:44:40.415  INFO 20144 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:44:40.415  INFO 20144 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 15:44:40.415  INFO 20144 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 312ms (build:39ms init:174ms start:99ms)
2023-12-12 15:44:40.419  INFO 20144 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.181 seconds (JVM running for 3.524)
2023-12-12 15:44:41.164  WARN 20144 --- [SpringApplicationShutdownHook] o.a.c.s.boot.SpringBootCamelContext      : CamelContext has only been running for less than a second. If you intend to run Camel for a longer time then you can set the property camel.springboot.main-run-controller=true in application.properties or add spring-boot-starter-web JAR to the classpath.
2023-12-12 15:44:41.165  INFO 20144 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 15:44:41.176  INFO 20144 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 15:44:41.177  INFO 20144 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 15:44:41.182  INFO 20144 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 15:44:41.183  INFO 20144 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 15:44:41.186  INFO 20144 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 20ms (uptime:0s)
2023-12-12 15:44:41.197  INFO 20144 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 15:45:09.053  INFO 20214 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20214 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 15:45:09.055  INFO 20214 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 15:45:10.288  INFO 20214 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 15:45:10.298  INFO 20214 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:45:10.298  INFO 20214 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:45:10.348  INFO 20214 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:45:10.348  INFO 20214 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1234 ms
2023-12-12 15:45:11.324  INFO 20214 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:45:11.419  INFO 20214 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:45:11.420  INFO 20214 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 15:45:11.670  INFO 20214 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:45:11.693  INFO 20214 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3603ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:45:11.751  INFO 20214 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:45:11.775  INFO 20214 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 15:45:11.781  INFO 20214 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 15:45:11.782  INFO 20214 --- [main] org.eclipse.jetty.server.Server          : Started @3692ms
2023-12-12 15:45:11.788  INFO 20214 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:45:11.788  INFO 20214 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 15:45:11.788  INFO 20214 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:50ms init:135ms start:117ms)
2023-12-12 15:45:11.792  INFO 20214 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.286 seconds (JVM running for 3.702)
2023-12-12 15:45:20.412  INFO 20214 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@c7d8519, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:45:20.428  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:45:20.429  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 15:45:20.434  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 15:45 .
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745694 12월 12 15:45 agent-1.0.0.jar
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
2023-12-12 15:45:20.438  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 15:45:20.439  INFO 20214 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:45:20.439  INFO 20214 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 15:45 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745694 12월 12 15:45 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 10:46 yaml
Done

2023-12-12 15:45:34.214  INFO 20214 --- [qtp1604020967-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@c7d8519, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:45:34.215  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:45:34.216  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:45:34.227  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 15:45:34.236  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 15:45:34.236  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 15:45:34.236  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 15:45:34.236  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 15:45:44.237  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 15:45:44.237  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 15:45:45.012  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 15:45:45.088  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:45.082  INFO 20271 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20271 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:45:45.088  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:45.084  INFO 20271 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:45:46.370  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:46.364  INFO 20271 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:45:46.380  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:46.372  INFO 20271 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:45:46.380  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:46.372  INFO 20271 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:45:46.432  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:46.431  INFO 20271 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:45:46.432  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:46.431  INFO 20271 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1314 ms
2023-12-12 15:45:47.366  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.356  INFO 20271 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:45:47.405  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.404  INFO 20271 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:45:47.405  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.405  INFO 20271 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:45:47.695  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.686  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:45:47.728  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.720  INFO 20271 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3481ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:45:47.762  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.760  INFO 20271 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:45:47.784  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.781  INFO 20271 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 15:45:47.797  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.788  INFO 20271 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:45:47.797  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.789  INFO 20271 --- [           main] org.eclipse.jetty.server.Server          : Started @3549ms
2023-12-12 15:45:47.798  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.795  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:45:47.798  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.796  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:45:47.798  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.796  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 336ms (build:49ms init:178ms start:109ms)
2023-12-12 15:45:47.801  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:45:47.799  INFO 20271 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.205 seconds (JVM running for 3.56)
2023-12-12 15:53:09.667  INFO 20214 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 15:53:09.679  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:10.680  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 44 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:11.681  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 43 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:12.682  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 42 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:13.683  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 41 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:14.684  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 40 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:15.685  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 39 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:16.686  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 38 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:17.687  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 37 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:18.689  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 36 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:19.689  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 35 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:20.690  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 34 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:21.691  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 33 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:22.693  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 32 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:23.693  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 31 seconds. Inflights per route: [dsp-deploy = 1]
2023-12-12 15:53:24.469  INFO 20214 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 15:53:24.469  INFO 20214 --- [qtp1604020967-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:45:45.082  INFO 20271 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20271 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:45:45.084  INFO 20271 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:45:46.364  INFO 20271 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:45:46.372  INFO 20271 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:45:46.372  INFO 20271 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:45:46.431  INFO 20271 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:45:46.431  INFO 20271 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1314 ms
2023-12-12 15:45:47.356  INFO 20271 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:45:47.404  INFO 20271 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:45:47.405  INFO 20271 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:45:47.686  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:45:47.720  INFO 20271 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3481ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:45:47.760  INFO 20271 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:45:47.781  INFO 20271 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 15:45:47.788  INFO 20271 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:45:47.789  INFO 20271 --- [           main] org.eclipse.jetty.server.Server          : Started @3549ms
2023-12-12 15:45:47.795  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:45:47.796  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:45:47.796  INFO 20271 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 336ms (build:49ms init:178ms start:109ms)
2023-12-12 15:45:47.799  INFO 20271 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.205 seconds (JVM running for 3.56)

2023-12-12 15:53:24.480 ERROR 20214 --- [qtp1604020967-32] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:896) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:206) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 50 common frames omitted

2023-12-12 15:53:24.698  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 15:53:24.699  INFO 20214 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 15:53:24.705  INFO 20214 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 15:53:24.705  INFO 20214 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 15:53:24.707  INFO 20214 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 15s39ms (uptime:8m13s)
2023-12-12 15:53:24.714  INFO 20214 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 15:54:10.599  INFO 20372 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20372 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 15:54:10.601  INFO 20372 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 15:54:11.883  INFO 20372 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 15:54:11.891  INFO 20372 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:54:11.891  INFO 20372 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:54:11.938  INFO 20372 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:54:11.939  INFO 20372 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1269 ms
2023-12-12 15:54:12.867  INFO 20372 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:54:12.912  INFO 20372 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:54:12.913  INFO 20372 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 15:54:13.203  INFO 20372 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:54:13.230  INFO 20372 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3543ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:54:13.269  INFO 20372 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:54:13.291  INFO 20372 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@2f98635e{/,null,AVAILABLE}
2023-12-12 15:54:13.297  INFO 20372 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@3874b815{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 15:54:13.297  INFO 20372 --- [main] org.eclipse.jetty.server.Server          : Started @3610ms
2023-12-12 15:54:13.305  INFO 20372 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:54:13.305  INFO 20372 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 15:54:13.305  INFO 20372 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 318ms (build:37ms init:180ms start:101ms)
2023-12-12 15:54:13.309  INFO 20372 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.209 seconds (JVM running for 3.622)
2023-12-12 15:54:46.569  INFO 20372 --- [qtp854640632-36] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@2afea3f1, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=499, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 15:54:46.585  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 15:54:46.586  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 15:54:46.595  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 15:54:46.613  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 15:54:46.614  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 15:54:46.614  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 15:54:46.614  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 15:54:56.615  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 15:54:56.616  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 15:54:57.414  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 15:54:57.521  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:57.509  INFO 20427 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20427 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:54:57.521  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:57.511  INFO 20427 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:54:58.751  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:58.743  INFO 20427 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:54:58.751  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:58.750  INFO 20427 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:54:58.751  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:58.751  INFO 20427 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:54:58.799  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:58.794  INFO 20427 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:54:58.799  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:58.794  INFO 20427 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1219 ms
2023-12-12 15:54:59.722  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:59.711  INFO 20427 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:54:59.769  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:59.760  INFO 20427 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:54:59.769  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:54:59.761  INFO 20427 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:55:00.012  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.007  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:55:00.039  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.029  INFO 20427 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3411ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:55:00.067  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.065  INFO 20427 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:55:00.094  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.090  INFO 20427 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 15:55:00.101  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.099  INFO 20427 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:55:00.101  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.099  INFO 20427 --- [           main] org.eclipse.jetty.server.Server          : Started @3481ms
2023-12-12 15:55:00.117  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.108  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:55:00.118  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.108  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:55:00.118  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.108  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 284ms (build:37ms init:146ms start:101ms)
2023-12-12 15:55:00.118  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 15:55:00.112  INFO 20427 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.085 seconds (JVM running for 3.494)
2023-12-12 16:02:02.193  INFO 20372 --- [qtp854640632-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:02:02.203 ERROR 20372 --- [qtp854640632-36] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:751) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:208) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 46 common frames omitted

2023-12-12 16:02:02.206  INFO 20372 --- [qtp854640632-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....
Execution successful.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 15:54:57.509  INFO 20427 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20427 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 15:54:57.511  INFO 20427 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 15:54:58.743  INFO 20427 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 15:54:58.750  INFO 20427 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 15:54:58.751  INFO 20427 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 15:54:58.794  INFO 20427 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 15:54:58.794  INFO 20427 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1219 ms
2023-12-12 15:54:59.711  INFO 20427 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 15:54:59.760  INFO 20427 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 15:54:59.761  INFO 20427 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 15:55:00.007  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 15:55:00.029  INFO 20427 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3411ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 15:55:00.065  INFO 20427 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 15:55:00.090  INFO 20427 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 15:55:00.099  INFO 20427 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 15:55:00.099  INFO 20427 --- [           main] org.eclipse.jetty.server.Server          : Started @3481ms
2023-12-12 15:55:00.108  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 15:55:00.108  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 15:55:00.108  INFO 20427 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 284ms (build:37ms init:146ms start:101ms)
2023-12-12 15:55:00.112  INFO 20427 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.085 seconds (JVM running for 3.494)

2023-12-12 16:02:29.703  INFO 20372 --- [qtp854640632-37] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@2637f3b, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:02:29.705  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:02:29.705  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:02:29.707  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:02:29.712  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:02:29.712  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:02:29.712  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:02:29.713  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:02:39.714  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:02:40.435  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:02:40.435  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:02:40.435  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:02:40.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:02:40.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:02:40.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:02:40.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:02:40.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:02:40.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:02:40.532  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:40.530  INFO 20503 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20503 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:02:40.538  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:40.532  INFO 20503 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:02:41.835  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:41.835  INFO 20503 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:02:41.856  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:41.850  INFO 20503 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:02:41.856  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:41.850  INFO 20503 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:02:41.908  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:41.897  INFO 20503 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:02:41.908  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:41.897  INFO 20503 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1301 ms
2023-12-12 16:02:42.968  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:42.964  INFO 20503 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:02:43.014  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.005  INFO 20503 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:02:43.014  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.006  INFO 20503 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:02:43.295  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.287  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:02:43.322  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.312  INFO 20503 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3594ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:02:43.353  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.350  INFO 20503 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:02:43.379  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.377  INFO 20503 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:02:43.389  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.385  INFO 20503 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:02:43.390  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.386  INFO 20503 --- [           main] org.eclipse.jetty.server.Server          : Started @3668ms
2023-12-12 16:02:43.404  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.394  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:02:43.404  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.395  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:02:43.404  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.395  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 300ms (build:39ms init:154ms start:107ms)
2023-12-12 16:02:43.404  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:02:43.398  INFO 20503 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.323 seconds (JVM running for 3.681)
2023-12-12 16:02:49.718  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:02:49.719  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:02:49.720  INFO 20372 --- [qtp854640632-37] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:02:40.530  INFO 20503 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20503 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:02:40.532  INFO 20503 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:02:41.835  INFO 20503 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:02:41.850  INFO 20503 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:02:41.850  INFO 20503 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:02:41.897  INFO 20503 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:02:41.897  INFO 20503 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1301 ms
2023-12-12 16:02:42.964  INFO 20503 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:02:43.005  INFO 20503 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:02:43.006  INFO 20503 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:02:43.287  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:02:43.312  INFO 20503 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3594ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:02:43.350  INFO 20503 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:02:43.377  INFO 20503 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:02:43.385  INFO 20503 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:02:43.386  INFO 20503 --- [           main] org.eclipse.jetty.server.Server          : Started @3668ms
2023-12-12 16:02:43.394  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:02:43.395  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:02:43.395  INFO 20503 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 300ms (build:39ms init:154ms start:107ms)
2023-12-12 16:02:43.398  INFO 20503 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.323 seconds (JVM running for 3.681)
Execution successful.

2023-12-12 16:04:21.436  INFO 20372 --- [qtp854640632-37] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@ca48107, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=520, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:04:21.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:04:21.436  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

#CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')
#
#echo "Running PID: {$CURRENT_PID}"
#
#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:04:21.439  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:04:21.439  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:04:22.096  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:04:22.097  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:04:22.192  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:22.185  INFO 20553 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20553 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:04:22.192  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:22.187  INFO 20553 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:04:23.503  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:23.494  INFO 20553 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:04:23.503  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:23.502  INFO 20553 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:04:23.503  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:23.503  INFO 20553 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:04:23.557  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:23.552  INFO 20553 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:04:23.557  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:23.552  INFO 20553 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1323 ms
2023-12-12 16:04:24.567  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.557  INFO 20553 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:04:24.640  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.630  INFO 20553 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:04:24.640  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.631  INFO 20553 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:04:24.897  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.896  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:04:24.925  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.920  INFO 20553 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3479ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:04:24.964  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.958  INFO 20553 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:04:24.987  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.982  INFO 20553 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@7c9bdee9{/,null,AVAILABLE}
2023-12-12 16:04:24.992  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.990  INFO 20553 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36b310aa{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:04:24.992  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.990  INFO 20553 --- [           main] org.eclipse.jetty.server.Server          : Started @3549ms
2023-12-12 16:04:25.004  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.996  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:04:25.004  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.996  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:04:25.004  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:24.996  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 299ms (build:51ms init:148ms start:100ms)
2023-12-12 16:04:25.004  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:04:25.000  INFO 20553 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.238 seconds (JVM running for 3.559)
2023-12-12 16:04:31.441  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:04:31.442  INFO 20372 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:04:31.443  INFO 20372 --- [qtp854640632-37] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:04:22.185  INFO 20553 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20553 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:04:22.187  INFO 20553 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:04:23.494  INFO 20553 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:04:23.502  INFO 20553 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:04:23.503  INFO 20553 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:04:23.552  INFO 20553 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:04:23.552  INFO 20553 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1323 ms
2023-12-12 16:04:24.557  INFO 20553 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:04:24.630  INFO 20553 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:04:24.631  INFO 20553 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:04:24.896  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:04:24.920  INFO 20553 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3479ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:04:24.958  INFO 20553 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:04:24.982  INFO 20553 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@7c9bdee9{/,null,AVAILABLE}
2023-12-12 16:04:24.990  INFO 20553 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36b310aa{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:04:24.990  INFO 20553 --- [           main] org.eclipse.jetty.server.Server          : Started @3549ms
2023-12-12 16:04:24.996  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:04:24.996  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:04:24.996  INFO 20553 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 299ms (build:51ms init:148ms start:100ms)
2023-12-12 16:04:25.000  INFO 20553 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.238 seconds (JVM running for 3.559)
Execution successful.

2023-12-12 16:05:54.747  INFO 20372 --- [qtp854640632-34] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@2ddbf429, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=521, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:05:54.748  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:05:54.748  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

#echo "PID Check..."

#CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')
#
#echo "Running PID: {$CURRENT_PID}"
#
#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:05:54.752  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:05:55.544  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:05:55.649  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:55.644  INFO 20603 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20603 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:05:55.649  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:55.646  INFO 20603 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:05:56.845  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:56.841  INFO 20603 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:05:56.866  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:56.859  INFO 20603 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:05:56.866  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:56.859  INFO 20603 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:05:56.913  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:56.906  INFO 20603 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:05:56.913  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:56.907  INFO 20603 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1200 ms
2023-12-12 16:05:57.824  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:57.822  INFO 20603 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:05:57.881  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:57.872  INFO 20603 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:05:57.881  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:57.873  INFO 20603 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:05:58.132  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.129  INFO 20603 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:05:58.156  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.153  INFO 20603 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3401ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:05:58.192  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.190  INFO 20603 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:05:58.213  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.213  INFO 20603 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:05:58.222  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.219  INFO 20603 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:05:58.222  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.219  INFO 20603 --- [           main] org.eclipse.jetty.server.Server          : Started @3467ms
2023-12-12 16:05:58.227  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.226  INFO 20603 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:05:58.228  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.226  INFO 20603 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:05:58.228  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.226  INFO 20603 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 296ms (build:47ms init:152ms start:97ms)
2023-12-12 16:05:58.238  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:05:58.230  INFO 20603 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.084 seconds (JVM running for 3.478)
2023-12-12 16:06:04.752  INFO 20372 --- [qtp854640632-34] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:08:31.488  INFO 20717 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20717 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:08:31.495  INFO 20717 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:08:32.853  INFO 20717 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:08:32.860  INFO 20717 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:08:32.861  INFO 20717 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:08:32.920  INFO 20717 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:08:32.921  INFO 20717 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1373 ms
2023-12-12 16:08:33.783  INFO 20717 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:08:33.829  INFO 20717 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:08:33.831  INFO 20717 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:08:34.097  INFO 20717 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:08:34.124  INFO 20717 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3528ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:08:34.164  INFO 20717 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:08:34.190  INFO 20717 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@2f98635e{/,null,AVAILABLE}
2023-12-12 16:08:34.197  INFO 20717 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@3874b815{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:08:34.197  INFO 20717 --- [main] org.eclipse.jetty.server.Server          : Started @3601ms
2023-12-12 16:08:34.204  INFO 20717 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:08:34.204  INFO 20717 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:08:34.204  INFO 20717 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 308ms (build:37ms init:165ms start:106ms)
2023-12-12 16:08:34.207  INFO 20717 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.209 seconds (JVM running for 3.612)
2023-12-12 16:08:44.932  INFO 20717 --- [qtp854640632-37] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@133b5329, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=521, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:08:44.964  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:08:44.965  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

#echo "PID Check..."

#CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')
#
#echo "Running PID: {$CURRENT_PID}"
#
#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:08:44.970  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:08:45.805  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:08:45.805  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:08:45.805  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:08:45.806  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:08:45.806  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:08:45.806  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:08:45.806  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:08:45.806  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:08:45.806  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:08:45.926  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:45.916  INFO 20764 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20764 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:08:45.926  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:45.918  INFO 20764 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:08:47.159  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:47.157  INFO 20764 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:08:47.170  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:47.167  INFO 20764 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:08:47.171  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:47.167  INFO 20764 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:08:47.218  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:47.213  INFO 20764 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:08:47.218  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:47.213  INFO 20764 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1258 ms
2023-12-12 16:08:48.185  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.173  INFO 20764 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:08:48.228  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.224  INFO 20764 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:08:48.228  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.225  INFO 20764 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:08:48.497  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.488  INFO 20764 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:08:48.522  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.512  INFO 20764 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3540ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:08:48.552  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.550  INFO 20764 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:08:48.574  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.570  INFO 20764 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:08:48.581  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.576  INFO 20764 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:08:48.581  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.576  INFO 20764 --- [           main] org.eclipse.jetty.server.Server          : Started @3605ms
2023-12-12 16:08:48.588  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.585  INFO 20764 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:08:48.588  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.585  INFO 20764 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:08:48.588  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.585  INFO 20764 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 284ms (build:45ms init:142ms start:97ms)
2023-12-12 16:08:48.593  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:08:48.589  INFO 20764 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.192 seconds (JVM running for 3.617)
2023-12-12 16:08:54.970  INFO 20717 --- [qtp854640632-37] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:20:40.921  INFO 20821 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20821 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:20:40.922  INFO 20821 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:20:42.180  INFO 20821 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:20:42.189  INFO 20821 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:20:42.189  INFO 20821 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:20:42.232  INFO 20821 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:20:42.232  INFO 20821 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1254 ms
2023-12-12 16:20:43.209  INFO 20821 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:20:43.249  INFO 20821 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:20:43.250  INFO 20821 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:20:43.518  INFO 20821 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:20:43.543  INFO 20821 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3502ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:20:43.584  INFO 20821 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:20:43.606  INFO 20821 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@49c8f6e8{/,null,AVAILABLE}
2023-12-12 16:20:43.612  INFO 20821 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@5d7835a8{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:20:43.613  INFO 20821 --- [main] org.eclipse.jetty.server.Server          : Started @3571ms
2023-12-12 16:20:43.619  INFO 20821 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:20:43.619  INFO 20821 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:20:43.619  INFO 20821 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 290ms (build:38ms init:152ms start:100ms)
2023-12-12 16:20:43.623  INFO 20821 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.184 seconds (JVM running for 3.582)
2023-12-12 16:21:00.729  INFO 20821 --- [qtp1347294617-36] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@54391d3f, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=521, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:21:00.749  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:21:00.750  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

#echo "PID Check..."

#CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')
#
#echo "Running PID: {$CURRENT_PID}"
#
#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:21:00.764  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:21:01.658  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:21:01.728  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:01.722  INFO 20868 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20868 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:21:01.729  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:01.724  INFO 20868 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:21:03.121  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:03.115  INFO 20868 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:21:03.132  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:03.123  INFO 20868 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:21:03.132  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:03.124  INFO 20868 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:21:03.192  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:03.187  INFO 20868 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:21:03.193  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:03.188  INFO 20868 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1418 ms
2023-12-12 16:21:04.128  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.127  INFO 20868 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:21:04.183  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.182  INFO 20868 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:21:04.184  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.183  INFO 20868 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:21:04.446  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.435  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:21:04.469  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.461  INFO 20868 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3694ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:21:04.507  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.501  INFO 20868 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:21:04.553  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.547  INFO 20868 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:21:04.561  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.558  INFO 20868 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:21:04.561  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.558  INFO 20868 --- [           main] org.eclipse.jetty.server.Server          : Started @3795ms
2023-12-12 16:21:04.575  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.567  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:21:04.575  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.567  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:21:04.575  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.567  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 308ms (build:39ms init:137ms start:132ms)
2023-12-12 16:21:04.575  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:21:04.571  INFO 20868 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.342 seconds (JVM running for 3.807)
2023-12-12 16:21:10.758  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:26:29.272  INFO 20821 --- [qtp1347294617-39] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@495b925d, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=521, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:26:29.274  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:26:29.274  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

#echo "PID Check..."

#CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')
#
#echo "Running PID: {$CURRENT_PID}"
#
#if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
#    echo "Project is not running"
#else
#    kill -9 $CURRENT_PID
#    echo "kill: {$CURRENT_PID}"
#    sleep 10
#fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:26:29.277  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:26:30.079  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:26:30.080  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:30.162  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:30.150  INFO 20919 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20919 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:26:30.162  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:30.152  INFO 20919 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:26:31.420  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:31.416  INFO 20919 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:26:31.431  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:31.425  INFO 20919 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:26:31.431  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:31.426  INFO 20919 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:26:31.489  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:31.477  INFO 20919 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:26:31.489  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:31.477  INFO 20919 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1275 ms
2023-12-12 16:26:32.479  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:32.479  INFO 20919 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:26:32.522  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:32.518  WARN 20919 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:32.528  INFO 20919 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:32.532 ERROR 20919 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Failed to destroy the filter named [Tomcat WebSocket (JSR356) Filter] of type [org.apache.tomcat.websocket.server.WsFilter]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : java.lang.AbstractMethodError: Receiver class org.apache.tomcat.websocket.server.WsFilter does not define or inherit an implementation of the resolved method 'abstract void destroy()' of interface javax.servlet.Filter.
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:303) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4643) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5455) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1398) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:983) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1398) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:983) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:495) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:982) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:496) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at go.kr.dsp.api.DspApiApplication.main(DspApiApplication.java:10) ~[classes!/:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.535  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.536  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.536  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.536  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:32.558  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:32.556  INFO 20919 --- [           main] ConditionEvaluationReportLoggingListener : 
2023-12-12 16:26:32.558  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:32.558  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-12-12 16:26:32.576  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:26:32.574 ERROR 20919 --- [           main] o.s.boot.SpringApplication               : Application run failed
2023-12-12 16:26:32.576  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:32.576  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
2023-12-12 16:26:32.576  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at go.kr.dsp.api.DspApiApplication.main(DspApiApplication.java:10) ~[classes!/:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[agent-1.0.0.jar:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar!/:5.3.24]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	... 22 common frames omitted
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.7.7.jar!/:2.7.7]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	... 24 common frames omitted
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1076) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	... 26 common frames omitted
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Caused by: java.net.BindException: 주소가 이미 사용 중입니다
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/sun.nio.ch.Net.bind0(Native Method) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/sun.nio.ch.Net.bind(Net.java:459) ~[na:na]
2023-12-12 16:26:32.577  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/sun.nio.ch.Net.bind(Net.java:448) ~[na:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227) ~[na:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:275) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:230) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:615) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1073) ~[tomcat-embed-core-9.0.70.jar!/:na]
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 	... 28 common frames omitted
2023-12-12 16:26:32.590  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:26:39.280  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:26:49.284  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:26:49.299  INFO 20821 --- [qtp1347294617-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:26:30.150  INFO 20919 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20919 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:26:30.152  INFO 20919 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:26:31.416  INFO 20919 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:26:31.425  INFO 20919 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:26:31.426  INFO 20919 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:26:31.477  INFO 20919 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:26:31.477  INFO 20919 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1275 ms
2023-12-12 16:26:32.479  INFO 20919 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:26:32.518  WARN 20919 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
2023-12-12 16:26:32.528  INFO 20919 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-12-12 16:26:32.532 ERROR 20919 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Failed to destroy the filter named [Tomcat WebSocket (JSR356) Filter] of type [org.apache.tomcat.websocket.server.WsFilter]

java.lang.AbstractMethodError: Receiver class org.apache.tomcat.websocket.server.WsFilter does not define or inherit an implementation of the resolved method 'abstract void destroy()' of interface javax.servlet.Filter.
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:303) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4643) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5455) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1398) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:983) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1398) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:983) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:495) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:982) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:496) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at go.kr.dsp.api.DspApiApplication.main(DspApiApplication.java:10) ~[classes!/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[agent-1.0.0.jar:na]

2023-12-12 16:26:32.556  INFO 20919 --- [           main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-12-12 16:26:32.574 ERROR 20919 --- [           main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar!/:5.3.24]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar!/:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at go.kr.dsp.api.DspApiApplication.main(DspApiApplication.java:10) ~[classes!/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[agent-1.0.0.jar:na]
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[agent-1.0.0.jar:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar!/:5.3.24]
	... 22 common frames omitted
Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.7.7.jar!/:2.7.7]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.7.7.jar!/:2.7.7]
	... 24 common frames omitted
Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1076) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234) ~[tomcat-embed-core-9.0.70.jar!/:na]
	... 26 common frames omitted
Caused by: java.net.BindException: 주소가 이미 사용 중입니다
	at java.base/sun.nio.ch.Net.bind0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.bind(Net.java:459) ~[na:na]
	at java.base/sun.nio.ch.Net.bind(Net.java:448) ~[na:na]
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227) ~[na:na]
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:275) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:230) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:615) ~[tomcat-embed-core-9.0.70.jar!/:na]
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1073) ~[tomcat-embed-core-9.0.70.jar!/:na]
	... 28 common frames omitted

Execution successful.

2023-12-12 16:27:30.204  INFO 20821 --- [qtp1347294617-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:27:30.219 ERROR 20821 --- [qtp1347294617-36] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:825) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:555) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:1009) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:1086) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:285) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.channelWrite(HttpOutput.java:269) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:751) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:208) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:161) ~[camel-util-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:500) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:566) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:439) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:362) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.component.jetty.CamelContinuationServlet.doService(CamelContinuationServlet.java:282) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.20.0.jar!/:3.20.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar!/:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.apache.camel.component.jetty.CamelFilterWrapper.doFilter(CamelFilterWrapper.java:51) ~[camel-jetty-common-3.20.0.jar!/:3.20.0]
	at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) ~[jetty-servlet-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.Server.handleAsync(Server.java:559) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$2(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:495) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 46 common frames omitted

2023-12-12 16:27:30.224  INFO 20821 --- [qtp1347294617-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:21:01.722  INFO 20868 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20868 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:21:01.724  INFO 20868 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:21:03.115  INFO 20868 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:21:03.123  INFO 20868 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:21:03.124  INFO 20868 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:21:03.187  INFO 20868 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:21:03.188  INFO 20868 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1418 ms
2023-12-12 16:21:04.127  INFO 20868 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:21:04.182  INFO 20868 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:21:04.183  INFO 20868 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:21:04.435  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:21:04.461  INFO 20868 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3694ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:21:04.501  INFO 20868 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:21:04.547  INFO 20868 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:21:04.558  INFO 20868 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:21:04.558  INFO 20868 --- [           main] org.eclipse.jetty.server.Server          : Started @3795ms
2023-12-12 16:21:04.567  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:21:04.567  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:21:04.567  INFO 20868 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 308ms (build:39ms init:137ms start:132ms)
2023-12-12 16:21:04.571  INFO 20868 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.342 seconds (JVM running for 3.807)
Execution successful.

2023-12-12 16:28:09.610  INFO 20821 --- [qtp1347294617-39] deploy-template.yaml:19                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@2c1992c4, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:28:09.612  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:28:09.612  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:28:09.614  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:28:09.628  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:28:09.629  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:28:09.629  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:28:09.629  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:28:19.632  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:28:20.362  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:28:20.428  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:20.426  INFO 20961 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20961 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:28:20.428  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:20.428  INFO 20961 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:28:21.659  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:21.648  INFO 20961 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:28:21.659  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:21.656  INFO 20961 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:28:21.659  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:21.656  INFO 20961 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:28:21.706  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:21.704  INFO 20961 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:28:21.706  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:21.704  INFO 20961 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1234 ms
2023-12-12 16:28:22.665  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:22.655  INFO 20961 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:28:22.726  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:22.716  INFO 20961 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:28:22.726  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:22.718  INFO 20961 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:28:22.977  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:22.966  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:28:23.011  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.011  INFO 20961 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3369ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:28:23.061  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.056  INFO 20961 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:28:23.089  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.085  INFO 20961 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:28:23.098  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.094  INFO 20961 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:28:23.098  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.094  INFO 20961 --- [           main] org.eclipse.jetty.server.Server          : Started @3453ms
2023-12-12 16:28:23.110  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.102  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:28:23.110  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.102  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:28:23.110  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.102  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 326ms (build:41ms init:150ms start:135ms)
2023-12-12 16:28:23.111  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:28:23.106  INFO 20961 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.118 seconds (JVM running for 3.465)
2023-12-12 16:28:29.638  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:28:39.642  INFO 20821 --- [qtp1347294617-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:28:39.643  INFO 20821 --- [qtp1347294617-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:28:20.426  INFO 20961 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 20961 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:28:20.428  INFO 20961 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:28:21.648  INFO 20961 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:28:21.656  INFO 20961 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:28:21.656  INFO 20961 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:28:21.704  INFO 20961 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:28:21.704  INFO 20961 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1234 ms
2023-12-12 16:28:22.655  INFO 20961 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:28:22.716  INFO 20961 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:28:22.718  INFO 20961 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:28:22.966  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:28:23.011  INFO 20961 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3369ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:28:23.056  INFO 20961 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:28:23.085  INFO 20961 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4f453e63{/,null,AVAILABLE}
2023-12-12 16:28:23.094  INFO 20961 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7e736350{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:28:23.094  INFO 20961 --- [           main] org.eclipse.jetty.server.Server          : Started @3453ms
2023-12-12 16:28:23.102  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:28:23.102  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:28:23.102  INFO 20961 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 326ms (build:41ms init:150ms start:135ms)
2023-12-12 16:28:23.106  INFO 20961 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.118 seconds (JVM running for 3.465)
Execution successful.

2023-12-12 16:31:35.550  INFO 21050 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21050 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:31:35.552  INFO 21050 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:31:36.819  INFO 21050 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:31:36.827  INFO 21050 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:31:36.828  INFO 21050 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:31:36.883  INFO 21050 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:31:36.884  INFO 21050 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1260 ms
2023-12-12 16:31:37.877  INFO 21050 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:31:37.921  INFO 21050 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:31:37.922  INFO 21050 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:31:38.193  INFO 21050 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:31:38.216  INFO 21050 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3523ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:31:38.267  INFO 21050 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:31:38.292  INFO 21050 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 16:31:38.300  INFO 21050 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:31:38.300  INFO 21050 --- [main] org.eclipse.jetty.server.Server          : Started @3607ms
2023-12-12 16:31:38.308  INFO 21050 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:31:38.308  INFO 21050 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:31:38.308  INFO 21050 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 314ms (build:39ms init:161ms start:114ms)
2023-12-12 16:31:38.312  INFO 21050 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.212 seconds (JVM running for 3.618)
2023-12-12 16:32:02.094  INFO 21050 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@1e505dd1, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:32:02.110  INFO 21050 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:32:02.111  INFO 21050 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:34:35.396  INFO 21199 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21199 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:34:35.400  INFO 21199 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:34:36.775  INFO 21199 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:34:36.783  INFO 21199 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:34:36.783  INFO 21199 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:34:36.843  INFO 21199 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:34:36.843  INFO 21199 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1334 ms
2023-12-12 16:34:37.751  INFO 21199 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:34:37.800  INFO 21199 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:34:37.802  INFO 21199 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:34:38.084  INFO 21199 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:34:38.113  INFO 21199 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3534ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:34:38.150  INFO 21199 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:34:38.174  INFO 21199 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@186cb891{/,null,AVAILABLE}
2023-12-12 16:34:38.196  INFO 21199 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:34:38.196  INFO 21199 --- [main] org.eclipse.jetty.server.Server          : Started @3617ms
2023-12-12 16:34:38.203  INFO 21199 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:34:38.203  INFO 21199 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:34:38.203  INFO 21199 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 311ms (build:38ms init:155ms start:118ms)
2023-12-12 16:34:38.207  INFO 21199 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.258 seconds (JVM running for 3.629)
2023-12-12 16:34:45.884  INFO 21199 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@6e7426f2, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:34:45.901  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:34:45.902  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:34:45.914  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:34:45.917  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:34:45.924  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:34:45.924  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:34:45.924  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:34:55.926  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:34:56.686  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:34:56.687  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:34:56.747  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:56.742  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21254 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:34:56.748  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:56.743  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:34:57.947  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:57.940  INFO 21254 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:34:57.962  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:57.948  INFO 21254 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:34:57.963  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:57.949  INFO 21254 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:34:57.999  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:57.992  INFO 21254 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:34:57.999  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:57.992  INFO 21254 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1163 ms
2023-12-12 16:34:58.984  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:58.981  INFO 21254 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:34:59.036  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.027  INFO 21254 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:34:59.036  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.028  INFO 21254 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:34:59.265  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.262  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:34:59.301  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.290  INFO 21254 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3356ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:34:59.355  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.354  INFO 21254 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:34:59.385  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.382  INFO 21254 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:34:59.390  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.388  INFO 21254 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:34:59.391  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.388  INFO 21254 --- [           main] org.eclipse.jetty.server.Server          : Started @3454ms
2023-12-12 16:34:59.402  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:34:59.402  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:34:59.402  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:38ms init:128ms start:136ms)
2023-12-12 16:34:59.402  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:34:59.401  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.106 seconds (JVM running for 3.468)
2023-12-12 16:35:05.932  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:35:05.936  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:34:56.742  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21254 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:34:56.743  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:34:57.940  INFO 21254 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:34:57.948  INFO 21254 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:34:57.949  INFO 21254 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:34:57.992  INFO 21254 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:34:57.992  INFO 21254 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1163 ms
2023-12-12 16:34:58.981  INFO 21254 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:34:59.027  INFO 21254 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:34:59.028  INFO 21254 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:34:59.262  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:34:59.290  INFO 21254 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3356ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:34:59.354  INFO 21254 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:34:59.382  INFO 21254 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:34:59.388  INFO 21254 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:34:59.388  INFO 21254 --- [           main] org.eclipse.jetty.server.Server          : Started @3454ms
2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:38ms init:128ms start:136ms)
2023-12-12 16:34:59.401  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.106 seconds (JVM running for 3.468)
Execution successful.

2023-12-12 16:35:05.938  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:35:05.938  INFO 21199 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:34:56.742  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21254 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:34:56.743  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:34:57.940  INFO 21254 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:34:57.948  INFO 21254 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:34:57.949  INFO 21254 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:34:57.992  INFO 21254 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:34:57.992  INFO 21254 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1163 ms
2023-12-12 16:34:58.981  INFO 21254 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:34:59.027  INFO 21254 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:34:59.028  INFO 21254 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:34:59.262  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:34:59.290  INFO 21254 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3356ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:34:59.354  INFO 21254 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:34:59.382  INFO 21254 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:34:59.388  INFO 21254 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:34:59.388  INFO 21254 --- [           main] org.eclipse.jetty.server.Server          : Started @3454ms
2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:34:59.398  INFO 21254 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:38ms init:128ms start:136ms)
2023-12-12 16:34:59.401  INFO 21254 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.106 seconds (JVM running for 3.468)
Execution successful.

2023-12-12 16:35:57.137  INFO 21199 --- [qtp1604020967-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@53796db8, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:35:57.141  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:35:57.141  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 16:35:57.144  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:35:57.157  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {21254}
2023-12-12 16:35:57.157  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: {21254}
2023-12-12 16:36:07.159  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 16:36:07.159  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {21254}
kill: {21254}
Done

2023-12-12 16:36:07.160  INFO 21199 --- [qtp1604020967-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:36:07.160  INFO 21199 --- [qtp1604020967-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {21254}
kill: {21254}
Done

2023-12-12 16:36:30.403  INFO 21199 --- [qtp1604020967-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@53796db8, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:36:30.406  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:36:30.406  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:36:30.408  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:36:30.419  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:36:30.420  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:36:30.420  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:36:30.420  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:36:40.423  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:36:41.156  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:36:41.211  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:41.205  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21320 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:36:41.211  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:41.207  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:36:42.494  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:42.492  INFO 21320 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:36:42.505  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:42.500  INFO 21320 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:36:42.506  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:42.500  INFO 21320 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:36:42.546  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:42.544  INFO 21320 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:36:42.546  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:42.544  INFO 21320 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1282 ms
2023-12-12 16:36:43.445  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.437  INFO 21320 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:36:43.485  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.478  INFO 21320 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:36:43.485  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.479  INFO 21320 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:36:43.761  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.760  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:36:43.799  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.790  INFO 21320 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3360ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:36:43.827  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.826  INFO 21320 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:36:43.850  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.846  INFO 21320 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4b2e3e8f{/,null,AVAILABLE}
2023-12-12 16:36:43.859  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.856  INFO 21320 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@118102ee{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:36:43.859  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.856  INFO 21320 --- [           main] org.eclipse.jetty.server.Server          : Started @3426ms
2023-12-12 16:36:43.870  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:36:43.870  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:36:43.870  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 317ms (build:40ms init:175ms start:102ms)
2023-12-12 16:36:43.870  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:36:43.866  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.083 seconds (JVM running for 3.436)
2023-12-12 16:36:50.429  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:36:50.434  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:36:41.205  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21320 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:36:41.207  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:36:42.492  INFO 21320 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:36:42.500  INFO 21320 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:36:42.500  INFO 21320 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:36:42.544  INFO 21320 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:36:42.544  INFO 21320 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1282 ms
2023-12-12 16:36:43.437  INFO 21320 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:36:43.478  INFO 21320 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:36:43.479  INFO 21320 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:36:43.760  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:36:43.790  INFO 21320 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3360ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:36:43.826  INFO 21320 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:36:43.846  INFO 21320 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4b2e3e8f{/,null,AVAILABLE}
2023-12-12 16:36:43.856  INFO 21320 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@118102ee{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:36:43.856  INFO 21320 --- [           main] org.eclipse.jetty.server.Server          : Started @3426ms
2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 317ms (build:40ms init:175ms start:102ms)
2023-12-12 16:36:43.866  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.083 seconds (JVM running for 3.436)
Execution successful.

2023-12-12 16:36:50.434  INFO 21199 --- [qtp1604020967-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:36:50.435  INFO 21199 --- [qtp1604020967-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:36:41.205  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21320 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:36:41.207  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:36:42.492  INFO 21320 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:36:42.500  INFO 21320 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:36:42.500  INFO 21320 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:36:42.544  INFO 21320 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:36:42.544  INFO 21320 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1282 ms
2023-12-12 16:36:43.437  INFO 21320 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:36:43.478  INFO 21320 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:36:43.479  INFO 21320 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:36:43.760  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:36:43.790  INFO 21320 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3360ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:36:43.826  INFO 21320 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:36:43.846  INFO 21320 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@4b2e3e8f{/,null,AVAILABLE}
2023-12-12 16:36:43.856  INFO 21320 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@118102ee{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:36:43.856  INFO 21320 --- [           main] org.eclipse.jetty.server.Server          : Started @3426ms
2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:36:43.863  INFO 21320 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 317ms (build:40ms init:175ms start:102ms)
2023-12-12 16:36:43.866  INFO 21320 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.083 seconds (JVM running for 3.436)
Execution successful.

2023-12-12 16:38:08.362  INFO 21199 --- [qtp1604020967-39] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5d65cde4, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:38:08.364  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:38:08.364  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 16:38:08.366  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:38:08.377  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {21320}
2023-12-12 16:38:08.378  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : kill: {21320}
2023-12-12 16:38:18.381  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 16:38:18.385  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {21320}
kill: {21320}
Done

2023-12-12 16:38:18.386  INFO 21199 --- [qtp1604020967-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:38:18.386  INFO 21199 --- [qtp1604020967-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {21320}
kill: {21320}
Done

2023-12-12 16:38:30.734  INFO 21199 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is shutting down (timeout:45s)
2023-12-12 16:38:30.751  INFO 21199 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.AbstractConnector       : Stopped ServerConnector@30a7c98f{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:38:30.754  INFO 21199 --- [Camel (camel-1) thread #1 - ShutdownTask] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@186cb891{/,null,STOPPED}
2023-12-12 16:38:30.762  INFO 21199 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Routes stopped (stopped:1)
2023-12-12 16:38:30.762  INFO 21199 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   :     Stopped dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:38:30.764  INFO 21199 --- [SpringApplicationShutdownHook] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) shutdown in 29ms (uptime:3m52s)
2023-12-12 16:38:30.769  INFO 21199 --- [SpringApplicationShutdownHook] o.a.c.c.s.CamelHttpTransportServlet      : Destroyed CamelHttpTransportServlet[CamelServlet]
2023-12-12 16:38:36.375  INFO 21382 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21382 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:38:36.377  INFO 21382 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:38:37.614  INFO 21382 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:38:37.622  INFO 21382 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:38:37.622  INFO 21382 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:38:37.686  INFO 21382 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:38:37.687  INFO 21382 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1268 ms
2023-12-12 16:38:38.658  INFO 21382 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:38:38.704  INFO 21382 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:38:38.705  INFO 21382 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:38:38.962  INFO 21382 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:38:38.984  INFO 21382 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3446ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:38:39.021  INFO 21382 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:38:39.044  INFO 21382 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 16:38:39.051  INFO 21382 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:38:39.051  INFO 21382 --- [main] org.eclipse.jetty.server.Server          : Started @3513ms
2023-12-12 16:38:39.071  INFO 21382 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:38:39.072  INFO 21382 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:38:39.072  INFO 21382 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 302ms (build:60ms init:133ms start:109ms)
2023-12-12 16:38:39.077  INFO 21382 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.174 seconds (JVM running for 3.539)
2023-12-12 16:39:03.794  INFO 21382 --- [qtp671981276-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@77fa2acd, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:39:03.816  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:39:03.817  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 16:39:03.824  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 16:39:03.824  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 16:34 .
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745715 12월 12 16:34 agent-1.0.0.jar
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 16:31 yaml
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 16:39:03.825  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : 결과: Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 16:34 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745715 12월 12 16:34 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 16:31 yaml
Done

2023-12-12 16:39:03.827  INFO 21382 --- [qtp671981276-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:39:03.828  INFO 21382 --- [qtp671981276-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 16:34 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745715 12월 12 16:34 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 16:31 yaml
Done

2023-12-12 16:39:16.532  INFO 21382 --- [qtp671981276-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@77fa2acd, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:39:16.534  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:39:16.534  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:39:16.536  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:39:16.546  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:39:16.547  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:39:16.547  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:39:16.548  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:39:26.550  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:39:27.279  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:39:27.361  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:27.349  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21439 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:39:27.362  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:27.350  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:39:28.564  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:28.553  INFO 21439 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:39:28.564  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:28.562  INFO 21439 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:39:28.564  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:28.562  INFO 21439 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:39:28.629  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:28.617  INFO 21439 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:39:28.629  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:28.617  INFO 21439 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1204 ms
2023-12-12 16:39:29.598  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:29.589  INFO 21439 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:39:29.662  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:29.652  INFO 21439 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:39:29.662  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:29.653  INFO 21439 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:39:29.911  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:29.910  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:39:29.963  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:29.954  INFO 21439 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3394ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:39:29.992  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:29.989  INFO 21439 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:39:30.017  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.013  INFO 21439 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:39:30.019  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.018  INFO 21439 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:39:30.019  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.018  INFO 21439 --- [           main] org.eclipse.jetty.server.Server          : Started @3463ms
2023-12-12 16:39:30.025  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:39:30.026  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:39:30.026  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 311ms (build:47ms init:154ms start:110ms)
2023-12-12 16:39:30.028  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:39:30.028  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.089 seconds (JVM running for 3.472)
2023-12-12 16:39:36.553  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:40:23.157  INFO 21382 --- [qtp671981276-34] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@6f7530d9, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:40:23.159  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:40:23.160  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 16:40:23.161  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:40:23.172  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {21439}
2023-12-12 16:40:23.173  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : kill: {21439}
2023-12-12 16:40:23.179  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:39:27.349  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21439 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:39:27.350  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:39:28.553  INFO 21439 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:39:28.562  INFO 21439 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:39:28.562  INFO 21439 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:39:28.617  INFO 21439 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:39:28.617  INFO 21439 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1204 ms
2023-12-12 16:39:29.589  INFO 21439 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:39:29.652  INFO 21439 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:39:29.653  INFO 21439 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:39:29.910  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:39:29.954  INFO 21439 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3394ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:39:29.989  INFO 21439 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:39:30.013  INFO 21439 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:39:30.018  INFO 21439 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:39:30.018  INFO 21439 --- [           main] org.eclipse.jetty.server.Server          : Started @3463ms
2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 311ms (build:47ms init:154ms start:110ms)
2023-12-12 16:39:30.028  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.089 seconds (JVM running for 3.472)
Execution successful.

2023-12-12 16:40:23.180  INFO 21382 --- [qtp671981276-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:40:23.180  INFO 21382 --- [qtp671981276-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:39:27.349  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21439 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:39:27.350  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:39:28.553  INFO 21439 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:39:28.562  INFO 21439 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:39:28.562  INFO 21439 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:39:28.617  INFO 21439 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:39:28.617  INFO 21439 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1204 ms
2023-12-12 16:39:29.589  INFO 21439 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:39:29.652  INFO 21439 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:39:29.653  INFO 21439 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:39:29.910  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:39:29.954  INFO 21439 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3394ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:39:29.989  INFO 21439 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:39:30.013  INFO 21439 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:39:30.018  INFO 21439 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:39:30.018  INFO 21439 --- [           main] org.eclipse.jetty.server.Server          : Started @3463ms
2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:39:30.024  INFO 21439 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 311ms (build:47ms init:154ms start:110ms)
2023-12-12 16:39:30.028  INFO 21439 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.089 seconds (JVM running for 3.472)
Execution successful.

2023-12-12 16:40:23.204 ERROR 21382 --- [qtp671981276-32] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 11 common frames omitted

2023-12-12 16:40:33.176  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 16:40:33.178  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {21439}
kill: {21439}
Done

2023-12-12 16:40:33.179  INFO 21382 --- [qtp671981276-34] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:40:33.180  INFO 21382 --- [qtp671981276-34] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {21439}
kill: {21439}
Done

2023-12-12 16:40:52.584  INFO 21500 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21500 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:40:52.585  INFO 21500 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:40:54.005  INFO 21500 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:40:54.014  INFO 21500 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:40:54.015  INFO 21500 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:40:54.077  INFO 21500 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:40:54.077  INFO 21500 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1445 ms
2023-12-12 16:40:54.952  INFO 21500 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:40:55.003  INFO 21500 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:40:55.004  INFO 21500 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:40:55.266  INFO 21500 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:40:55.292  INFO 21500 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3588ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:40:55.331  INFO 21500 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:40:55.355  INFO 21500 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3ec2ecea{/,null,AVAILABLE}
2023-12-12 16:40:55.361  INFO 21500 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:40:55.361  INFO 21500 --- [main] org.eclipse.jetty.server.Server          : Started @3657ms
2023-12-12 16:40:55.367  INFO 21500 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:40:55.367  INFO 21500 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:40:55.367  INFO 21500 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 281ms (build:41ms init:140ms start:100ms)
2023-12-12 16:40:55.371  INFO 21500 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.293 seconds (JVM running for 3.667)
2023-12-12 16:41:02.164  INFO 21500 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@480f28b3, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:41:02.191  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:41:02.192  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:41:02.206  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:41:02.217  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:41:02.217  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:41:02.218  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:41:02.218  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:41:12.223  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:41:12.968  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:41:12.968  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:41:12.969  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:41:13.044  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:13.038  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21555 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:41:13.044  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:13.040  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:41:14.320  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:14.315  INFO 21555 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:41:14.331  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:14.322  INFO 21555 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:41:14.331  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:14.322  INFO 21555 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:41:14.367  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:14.367  INFO 21555 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:41:14.367  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:14.367  INFO 21555 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1266 ms
2023-12-12 16:41:15.245  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.243  INFO 21555 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:41:15.300  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.290  INFO 21555 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:41:15.300  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.291  INFO 21555 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:41:15.546  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.541  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:41:15.597  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.585  INFO 21555 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3356ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:41:15.645  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.644  INFO 21555 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:41:15.704  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.698  INFO 21555 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:41:15.705  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.704  INFO 21555 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:41:15.706  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.705  INFO 21555 --- [           main] org.eclipse.jetty.server.Server          : Started @3475ms
2023-12-12 16:41:15.717  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:41:15.717  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:41:15.717  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 359ms (build:37ms init:151ms start:171ms)
2023-12-12 16:41:15.717  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:41:15.716  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.123 seconds (JVM running for 3.487)
2023-12-12 16:41:22.233  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:42:36.387  INFO 21500 --- [qtp277697988-39] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@59947e3d, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:42:36.389  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:42:36.390  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 16:42:36.393  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:42:36.408  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {21555}
2023-12-12 16:42:36.408  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : kill: {21555}
2023-12-12 16:42:36.415  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:41:13.038  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21555 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:41:13.040  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:41:14.315  INFO 21555 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:41:14.322  INFO 21555 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:41:14.322  INFO 21555 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:41:14.367  INFO 21555 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:41:14.367  INFO 21555 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1266 ms
2023-12-12 16:41:15.243  INFO 21555 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:41:15.290  INFO 21555 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:41:15.291  INFO 21555 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:41:15.541  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:41:15.585  INFO 21555 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3356ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:41:15.644  INFO 21555 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:41:15.698  INFO 21555 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:41:15.704  INFO 21555 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:41:15.705  INFO 21555 --- [           main] org.eclipse.jetty.server.Server          : Started @3475ms
2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 359ms (build:37ms init:151ms start:171ms)
2023-12-12 16:41:15.716  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.123 seconds (JVM running for 3.487)
Execution successful.

2023-12-12 16:42:36.417  INFO 21500 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:42:36.417  INFO 21500 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:41:13.038  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21555 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:41:13.040  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:41:14.315  INFO 21555 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:41:14.322  INFO 21555 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:41:14.322  INFO 21555 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:41:14.367  INFO 21555 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:41:14.367  INFO 21555 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1266 ms
2023-12-12 16:41:15.243  INFO 21555 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:41:15.290  INFO 21555 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:41:15.291  INFO 21555 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:41:15.541  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:41:15.585  INFO 21555 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3356ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:41:15.644  INFO 21555 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:41:15.698  INFO 21555 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:41:15.704  INFO 21555 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:41:15.705  INFO 21555 --- [           main] org.eclipse.jetty.server.Server          : Started @3475ms
2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:41:15.712  INFO 21555 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 359ms (build:37ms init:151ms start:171ms)
2023-12-12 16:41:15.716  INFO 21555 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.123 seconds (JVM running for 3.487)
Execution successful.

2023-12-12 16:42:36.475 ERROR 21500 --- [qtp277697988-36] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 10 common frames omitted

2023-12-12 16:42:46.412  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 16:42:46.417  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {21555}
kill: {21555}
Done

2023-12-12 16:42:46.418  INFO 21500 --- [qtp277697988-39] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:42:46.419  INFO 21500 --- [qtp277697988-39] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {21555}
kill: {21555}
Done

2023-12-12 16:43:39.253  INFO 21500 --- [qtp277697988-32] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@402a331a, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:43:39.256  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:43:39.257  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:43:39.259  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:43:39.274  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:43:39.274  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:43:39.275  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:43:39.275  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:43:49.278  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:43:50.077  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:43:50.077  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:43:50.077  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:43:50.077  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:43:50.077  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:43:50.077  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:43:50.078  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:43:50.078  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:43:50.078  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:43:50.161  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:50.158  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21620 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:43:50.161  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:50.160  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:43:51.411  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:51.410  INFO 21620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:43:51.441  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:51.437  INFO 21620 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:43:51.441  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:51.437  INFO 21620 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:43:51.489  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:51.487  INFO 21620 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:43:51.489  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:51.487  INFO 21620 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1272 ms
2023-12-12 16:43:52.550  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.538  INFO 21620 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:43:52.588  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.582  INFO 21620 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:43:52.589  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.583  INFO 21620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:43:52.886  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.884  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:43:52.910  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.909  INFO 21620 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3625ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:43:52.948  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.944  INFO 21620 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:43:52.987  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.981  INFO 21620 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 16:43:52.989  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.987  INFO 21620 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:43:52.989  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.988  INFO 21620 --- [           main] org.eclipse.jetty.server.Server          : Started @3704ms
2023-12-12 16:43:53.001  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:43:53.002  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:43:53.002  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 350ms (build:38ms init:203ms start:109ms)
2023-12-12 16:43:53.002  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:43:52.997  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.321 seconds (JVM running for 3.713)
2023-12-12 16:43:59.283  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:43:59.285  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:43:50.158  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21620 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:43:50.160  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:43:51.410  INFO 21620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:43:51.437  INFO 21620 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:43:51.437  INFO 21620 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:43:51.487  INFO 21620 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:43:51.487  INFO 21620 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1272 ms
2023-12-12 16:43:52.538  INFO 21620 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:43:52.582  INFO 21620 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:43:52.583  INFO 21620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:43:52.884  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:43:52.909  INFO 21620 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3625ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:43:52.944  INFO 21620 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:43:52.981  INFO 21620 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 16:43:52.987  INFO 21620 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:43:52.988  INFO 21620 --- [           main] org.eclipse.jetty.server.Server          : Started @3704ms
2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 350ms (build:38ms init:203ms start:109ms)
2023-12-12 16:43:52.997  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.321 seconds (JVM running for 3.713)
Execution successful.

2023-12-12 16:43:59.286  INFO 21500 --- [qtp277697988-32] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:43:59.287  INFO 21500 --- [qtp277697988-32] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:43:50.158  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21620 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:43:50.160  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:43:51.410  INFO 21620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:43:51.437  INFO 21620 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:43:51.437  INFO 21620 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:43:51.487  INFO 21620 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:43:51.487  INFO 21620 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1272 ms
2023-12-12 16:43:52.538  INFO 21620 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:43:52.582  INFO 21620 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:43:52.583  INFO 21620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:43:52.884  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:43:52.909  INFO 21620 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3625ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:43:52.944  INFO 21620 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:43:52.981  INFO 21620 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 16:43:52.987  INFO 21620 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:43:52.988  INFO 21620 --- [           main] org.eclipse.jetty.server.Server          : Started @3704ms
2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:43:52.994  INFO 21620 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 350ms (build:38ms init:203ms start:109ms)
2023-12-12 16:43:52.997  INFO 21620 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.321 seconds (JVM running for 3.713)
Execution successful.

2023-12-12 16:58:42.238  INFO 21672 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21672 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 16:58:42.240  INFO 21672 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 16:58:43.470  INFO 21672 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 16:58:43.479  INFO 21672 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:58:43.480  INFO 21672 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:58:43.528  INFO 21672 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:58:43.528  INFO 21672 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1242 ms
2023-12-12 16:58:44.504  INFO 21672 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:58:44.553  INFO 21672 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:58:44.554  INFO 21672 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 16:58:44.814  INFO 21672 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:58:44.839  INFO 21672 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3386ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:58:44.885  INFO 21672 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:58:44.908  INFO 21672 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 16:58:44.913  INFO 21672 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 16:58:44.914  INFO 21672 --- [main] org.eclipse.jetty.server.Server          : Started @3460ms
2023-12-12 16:58:44.920  INFO 21672 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:58:44.920  INFO 21672 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 16:58:44.920  INFO 21672 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 276ms (build:38ms init:133ms start:105ms)
2023-12-12 16:58:44.924  INFO 21672 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.091 seconds (JVM running for 3.47)
2023-12-12 16:59:19.129  INFO 21672 --- [qtp1878267309-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@19490185, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 16:59:19.150  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 16:59:19.151  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 16:59:19.161  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 16:59:19.171  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 16:59:19.172  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 16:59:19.177  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 16:59:19.177  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 16:59:29.180  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 16:59:29.945  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 16:59:30.029  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:30.017  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21727 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:59:30.029  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:30.029  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:59:31.385  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:31.379  INFO 21727 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:59:31.396  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:31.388  INFO 21727 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:59:31.396  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:31.388  INFO 21727 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:59:31.446  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:31.445  INFO 21727 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:59:31.446  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:31.445  INFO 21727 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1362 ms
2023-12-12 16:59:32.390  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.374  INFO 21727 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:59:32.451  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.442  INFO 21727 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:59:32.451  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.444  INFO 21727 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:59:32.692  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.691  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:59:32.728  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.719  INFO 21727 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3530ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:59:32.757  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.757  INFO 21727 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:59:32.780  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.775  INFO 21727 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3effd4f3{/,null,AVAILABLE}
2023-12-12 16:59:32.786  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.784  INFO 21727 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4f67e3df{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:59:32.786  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.784  INFO 21727 --- [           main] org.eclipse.jetty.server.Server          : Started @3595ms
2023-12-12 16:59:32.800  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:59:32.800  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:59:32.801  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 276ms (build:45ms init:128ms start:103ms)
2023-12-12 16:59:32.801  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 16:59:32.798  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.229 seconds (JVM running for 3.609)
2023-12-12 16:59:39.186  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 16:59:39.191  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : 결과: PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:59:30.017  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21727 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:59:30.029  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:59:31.379  INFO 21727 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:59:31.388  INFO 21727 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:59:31.388  INFO 21727 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:59:31.445  INFO 21727 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:59:31.445  INFO 21727 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1362 ms
2023-12-12 16:59:32.374  INFO 21727 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:59:32.442  INFO 21727 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:59:32.444  INFO 21727 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:59:32.691  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:59:32.719  INFO 21727 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3530ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:59:32.757  INFO 21727 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:59:32.775  INFO 21727 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3effd4f3{/,null,AVAILABLE}
2023-12-12 16:59:32.784  INFO 21727 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4f67e3df{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:59:32.784  INFO 21727 --- [           main] org.eclipse.jetty.server.Server          : Started @3595ms
2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 276ms (build:45ms init:128ms start:103ms)
2023-12-12 16:59:32.798  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.229 seconds (JVM running for 3.609)
Execution successful.

2023-12-12 16:59:39.193  INFO 21672 --- [qtp1878267309-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 16:59:39.194  INFO 21672 --- [qtp1878267309-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 16:59:30.017  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21727 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 16:59:30.029  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 16:59:31.379  INFO 21727 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 16:59:31.388  INFO 21727 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 16:59:31.388  INFO 21727 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 16:59:31.445  INFO 21727 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 16:59:31.445  INFO 21727 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1362 ms
2023-12-12 16:59:32.374  INFO 21727 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 16:59:32.442  INFO 21727 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 16:59:32.444  INFO 21727 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 16:59:32.691  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 16:59:32.719  INFO 21727 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3530ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 16:59:32.757  INFO 21727 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 16:59:32.775  INFO 21727 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3effd4f3{/,null,AVAILABLE}
2023-12-12 16:59:32.784  INFO 21727 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4f67e3df{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 16:59:32.784  INFO 21727 --- [           main] org.eclipse.jetty.server.Server          : Started @3595ms
2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 16:59:32.794  INFO 21727 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 276ms (build:45ms init:128ms start:103ms)
2023-12-12 16:59:32.798  INFO 21727 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.229 seconds (JVM running for 3.609)
Execution successful.

2023-12-12 17:05:45.704  INFO 21829 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21829 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 17:05:45.705  INFO 21829 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 17:05:46.931  INFO 21829 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 17:05:46.939  INFO 21829 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:05:46.940  INFO 21829 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:05:46.993  INFO 21829 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:05:46.994  INFO 21829 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1223 ms
2023-12-12 17:05:47.924  INFO 21829 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:05:47.978  INFO 21829 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:05:47.980  INFO 21829 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 17:05:48.224  INFO 21829 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:05:48.247  INFO 21829 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3342ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:05:48.283  INFO 21829 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:05:48.306  INFO 21829 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@41f4fe5{/,null,AVAILABLE}
2023-12-12 17:05:48.312  INFO 21829 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@56681eaf{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 17:05:48.313  INFO 21829 --- [main] org.eclipse.jetty.server.Server          : Started @3408ms
2023-12-12 17:05:48.319  INFO 21829 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:05:48.319  INFO 21829 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 17:05:48.319  INFO 21829 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 265ms (build:39ms init:132ms start:94ms)
2023-12-12 17:05:48.323  INFO 21829 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.041 seconds (JVM running for 3.418)
2023-12-12 17:06:42.108  INFO 21829 --- [qtp1781018589-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@6e7426f2, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:06:42.127  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:06:42.128  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 17:06:42.139  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:06:42.140  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 17:06:42.142  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 17:06:42.142  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 17:06:42.142  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 17:06:52.142  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 17:06:52.911  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 17:06:52.925  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 17:06:52.925  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:06:52.988  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:52.981  INFO 21888 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21888 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:06:52.988  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:52.982  INFO 21888 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:06:54.195  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:54.191  INFO 21888 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:06:54.206  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:54.200  INFO 21888 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:06:54.206  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:54.200  INFO 21888 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:06:54.254  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:54.249  INFO 21888 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:06:54.254  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:54.249  INFO 21888 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1196 ms
2023-12-12 17:06:55.232  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.221  INFO 21888 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:06:55.281  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.272  INFO 21888 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:06:55.281  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.273  INFO 21888 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:06:55.549  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.539  INFO 21888 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:06:55.573  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.563  INFO 21888 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3415ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:06:55.605  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.602  INFO 21888 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:06:55.625  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.622  INFO 21888 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@390877d2{/,null,AVAILABLE}
2023-12-12 17:06:55.630  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.628  INFO 21888 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@45d64d27{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:06:55.630  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.628  INFO 21888 --- [           main] org.eclipse.jetty.server.Server          : Started @3480ms
2023-12-12 17:06:55.643  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.634  INFO 21888 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:06:55.643  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.635  INFO 21888 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:06:55.643  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.635  INFO 21888 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 300ms (build:39ms init:166ms start:95ms)
2023-12-12 17:06:55.643  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:06:55.638  INFO 21888 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.079 seconds (JVM running for 3.49)
2023-12-12 17:07:02.146  INFO 21829 --- [qtp1781018589-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 17:13:27.187  INFO 21829 --- [qtp1781018589-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, CamelHttpMethod=GET, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(GET //172.30.1.84:6666/file)@16a856d5, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Host=172.30.1.84:6666, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:13:27.212  INFO 21829 --- [qtp1781018589-37] deploy-template.yaml:14                  : null
2023-12-12 17:13:51.933  INFO 21938 --- [main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21938 (/home/dsp_deploy/agent-1.0.0.jar started by root in /home/dsp_deploy)
2023-12-12 17:13:51.935  INFO 21938 --- [main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "deploy"
2023-12-12 17:13:53.187  INFO 21938 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7878 (http)
2023-12-12 17:13:53.195  INFO 21938 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:13:53.195  INFO 21938 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:13:53.243  INFO 21938 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:13:53.243  INFO 21938 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1253 ms
2023-12-12 17:13:54.152  INFO 21938 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:13:54.196  INFO 21938 --- [main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:13:54.197  INFO 21938 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7878 (http) with context path ''
2023-12-12 17:13:54.460  INFO 21938 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:13:54.489  INFO 21938 --- [main] org.eclipse.jetty.util.log               : Logging initialized @3375ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:13:54.529  INFO 21938 --- [main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:13:54.551  INFO 21938 --- [main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3ec2ecea{/,null,AVAILABLE}
2023-12-12 17:13:54.558  INFO 21938 --- [main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@36361ddb{HTTP/1.1, (http/1.1)}{172.30.1.84:6666}
2023-12-12 17:13:54.558  INFO 21938 --- [main] org.eclipse.jetty.server.Server          : Started @3445ms
2023-12-12 17:13:54.589  INFO 21938 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:13:54.590  INFO 21938 --- [main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-deploy (jetty:http://172.30.1.84:6666/file)
2023-12-12 17:13:54.590  INFO 21938 --- [main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 313ms (build:42ms init:142ms start:129ms)
2023-12-12 17:13:54.593  INFO 21938 --- [main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.118 seconds (JVM running for 3.48)
2023-12-12 17:14:07.605  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, CamelHttpMethod=GET, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(GET //172.30.1.84:6666/file)@6ebbe7ba, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Host=172.30.1.84:6666, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:14:07.621  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:14                  : null
2023-12-12 17:15:01.239  INFO 21938 --- [qtp277697988-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, CamelHttpMethod=GET, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(GET //172.30.1.84:6666/file)@5a42504a, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Host=172.30.1.84:6666, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:15:01.240  INFO 21938 --- [qtp277697988-35] deploy-template.yaml:14                  : null
2023-12-12 17:17:00.786  INFO 21938 --- [qtp277697988-38] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, CamelHttpMethod=GET, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(GET //172.30.1.84:6666/file)@14f8a2ca, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Host=172.30.1.84:6666, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:17:00.787  INFO 21938 --- [qtp277697988-38] deploy-template.yaml:14                  : null
2023-12-12 17:17:25.290  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, CamelHttpMethod=GET, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(GET //172.30.1.84:6666/file)@7956e5b0, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Host=172.30.1.84:6666, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:17:25.291  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:14                  : null
2023-12-12 17:18:22.231  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, CamelHttpMethod=GET, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(GET //172.30.1.84:6666/file)@7ada1a69, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Host=172.30.1.84:6666, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:18:22.232  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:14                  : null
2023-12-12 17:18:56.119  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5a56eaaa, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=62, fileExtension=sh, fileName=I0000001-S00001-1-deploy-ls.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:18:56.156  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:18:56.157  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh
echo "Test..."

cd /home/dsp_if

ls -al

echo "Done"
2023-12-12 17:18:56.164  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Test...
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 합계 77880
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 6 root root       79 12월 12 17:05 .
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : -rw-r--r--. 1 root root 79745694 12월 12 17:05 agent-1.0.0.jar
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root       55 12월  8 17:14 file
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 3 root root       54 12월 11 17:11 script
2023-12-12 17:18:56.177  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : drwxr-xr-x. 4 root root       40 12월 12 16:31 yaml
2023-12-12 17:18:56.178  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 17:18:56.179  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:18:56.179  INFO 21938 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 Test...
합계 77880
drwxr-xr-x. 6 root root       79 12월 12 17:05 .
drwxr-xr-x. 4 root root       38 11월 21 09:16 ..
-rw-r--r--. 1 root root 79745694 12월 12 17:05 agent-1.0.0.jar
drwxr-xr-x. 2 root root       55 12월  8 17:14 file
drwxr-xr-x. 2 root root      110 12월 12 10:47 logs
drwxr-xr-x. 3 root root       54 12월 11 17:11 script
drwxr-xr-x. 4 root root       40 12월 12 16:31 yaml
Done

2023-12-12 17:19:09.711  INFO 21938 --- [qtp277697988-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@5a56eaaa, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:19:09.713  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:19:09.713  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 17:19:09.722  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:19:09.727  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 17:19:09.727  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 17:19:09.727  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 17:19:09.727  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 17:19:19.728  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 17:19:20.543  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:19:20.621  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:20.615  INFO 21998 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21998 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:19:20.621  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:20.616  INFO 21998 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:19:21.956  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:21.953  INFO 21998 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:19:21.967  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:21.962  INFO 21998 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:19:21.967  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:21.963  INFO 21998 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:19:22.034  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:22.023  INFO 21998 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:19:22.034  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:22.024  INFO 21998 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1315 ms
2023-12-12 17:19:23.103  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.087  INFO 21998 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:19:23.161  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.154  INFO 21998 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:19:23.161  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.155  INFO 21998 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:19:23.437  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.432  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:19:23.486  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.475  INFO 21998 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3742ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:19:23.519  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.516  INFO 21998 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:19:23.542  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.538  INFO 21998 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@41f4fe5{/,null,AVAILABLE}
2023-12-12 17:19:23.550  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.546  INFO 21998 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@56681eaf{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:19:23.550  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.546  INFO 21998 --- [           main] org.eclipse.jetty.server.Server          : Started @3813ms
2023-12-12 17:19:23.562  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.555  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:19:23.562  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.555  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:19:23.562  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.555  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 330ms (build:45ms init:163ms start:122ms)
2023-12-12 17:19:23.562  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:19:23.559  INFO 21998 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.411 seconds (JVM running for 3.826)
2023-12-12 17:19:29.731  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 17:19:53.366  INFO 21938 --- [qtp277697988-34] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@8b7be4f, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:19:53.367  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:19:53.368  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 17:19:53.370  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:19:53.381  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {21998}
2023-12-12 17:19:53.382  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : kill: {21998}
2023-12-12 17:19:53.389  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:19:53.390  INFO 21938 --- [qtp277697988-35] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 17:19:20.615  INFO 21998 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 21998 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:19:20.616  INFO 21998 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:19:21.953  INFO 21998 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:19:21.962  INFO 21998 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:19:21.963  INFO 21998 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:19:22.023  INFO 21998 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:19:22.024  INFO 21998 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1315 ms
2023-12-12 17:19:23.087  INFO 21998 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:19:23.154  INFO 21998 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:19:23.155  INFO 21998 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:19:23.432  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:19:23.475  INFO 21998 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3742ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:19:23.516  INFO 21998 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:19:23.538  INFO 21998 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@41f4fe5{/,null,AVAILABLE}
2023-12-12 17:19:23.546  INFO 21998 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@56681eaf{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:19:23.546  INFO 21998 --- [           main] org.eclipse.jetty.server.Server          : Started @3813ms
2023-12-12 17:19:23.555  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:19:23.555  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:19:23.555  INFO 21998 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 330ms (build:45ms init:163ms start:122ms)
2023-12-12 17:19:23.559  INFO 21998 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.411 seconds (JVM running for 3.826)
Execution successful.

2023-12-12 17:19:53.411 ERROR 21938 --- [qtp277697988-35] o.a.c.c.jetty.CamelContinuationServlet   : Error processing request

org.eclipse.jetty.io.EofException: null
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:280) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:422) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.WriteFlusher.completeWrite(WriteFlusher.java:378) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:119) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:300) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.io.IOException: 파이프가 깨어짐
	at java.base/sun.nio.ch.FileDispatcherImpl.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:51) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:493) ~[na:na]
	at java.base/java.nio.channels.SocketChannel.write(SocketChannel.java:507) ~[na:na]
	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:274) ~[jetty-io-9.4.50.v20221201.jar!/:9.4.50.v20221201]
	... 11 common frames omitted

2023-12-12 17:20:03.383  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 17:20:03.384  INFO 21938 --- [qtp277697988-34] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:20:03.385  INFO 21938 --- [qtp277697988-34] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {21998}
kill: {21998}
Done

2023-12-12 17:20:45.673  INFO 21938 --- [qtp277697988-35] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@3acef1bd, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:20:45.675  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:20:45.675  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 17:20:45.677  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:20:45.687  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 17:20:45.687  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 17:20:45.688  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 17:20:45.688  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 17:20:55.691  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 17:20:56.516  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:20:56.582  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:56.566  INFO 22060 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 22060 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:20:56.583  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:56.577  INFO 22060 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:20:57.993  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:57.989  INFO 22060 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:20:58.006  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:57.998  INFO 22060 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:20:58.007  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:57.998  INFO 22060 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:20:58.071  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:58.061  INFO 22060 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:20:58.071  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:58.062  INFO 22060 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1381 ms
2023-12-12 17:20:59.191  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.186  INFO 22060 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:20:59.254  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.247  INFO 22060 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:20:59.254  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.249  INFO 22060 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:20:59.559  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.557  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:20:59.584  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.582  INFO 22060 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3885ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:20:59.640  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.637  INFO 22060 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:20:59.686  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.677  INFO 22060 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 17:20:59.686  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.685  INFO 22060 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:20:59.686  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.685  INFO 22060 --- [           main] org.eclipse.jetty.server.Server          : Started @3988ms
2023-12-12 17:20:59.698  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.694  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:20:59.698  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.694  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:20:59.698  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.694  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 358ms (build:45ms init:177ms start:136ms)
2023-12-12 17:20:59.698  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:20:59.698  INFO 22060 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.607 seconds (JVM running for 4.001)
2023-12-12 17:21:05.698  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 17:21:05.700  INFO 21938 --- [qtp277697988-35] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:21:05.701  INFO 21938 --- [qtp277697988-35] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 17:20:56.566  INFO 22060 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 22060 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:20:56.577  INFO 22060 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:20:57.989  INFO 22060 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:20:57.998  INFO 22060 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:20:57.998  INFO 22060 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:20:58.061  INFO 22060 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:20:58.062  INFO 22060 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1381 ms
2023-12-12 17:20:59.186  INFO 22060 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:20:59.247  INFO 22060 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:20:59.249  INFO 22060 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:20:59.557  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:20:59.582  INFO 22060 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3885ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:20:59.637  INFO 22060 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:20:59.677  INFO 22060 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@eb507b9{/,null,AVAILABLE}
2023-12-12 17:20:59.685  INFO 22060 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@7dff6d05{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:20:59.685  INFO 22060 --- [           main] org.eclipse.jetty.server.Server          : Started @3988ms
2023-12-12 17:20:59.694  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:20:59.694  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:20:59.694  INFO 22060 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 358ms (build:45ms init:177ms start:136ms)
2023-12-12 17:20:59.698  INFO 22060 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.607 seconds (JVM running for 4.001)
Execution successful.

2023-12-12 17:30:34.175  INFO 21938 --- [qtp277697988-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7082a5e0, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:30:34.178  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:30:34.178  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 17:30:34.182  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:30:34.197  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {22060}
2023-12-12 17:30:34.197  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : kill: {22060}
2023-12-12 17:30:44.199  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 17:30:44.201  INFO 21938 --- [qtp277697988-37] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:30:44.202  INFO 21938 --- [qtp277697988-37] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {22060}
kill: {22060}
Done

2023-12-12 17:31:00.315  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7082a5e0, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=509, fileExtension=sh, fileName=I0000001-S00001-1-deploy-start.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:31:00.317  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:31:00.317  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

if "$CURRENT_PID" [ -z CURRENT_PID ] ; then
    echo "Project is not running"
else
    kill -9 $CURRENT_PID
    echo "kill: {$CURRENT_PID}"
    sleep 10
fi

echo "Deploy Project...."

nohup java -jar agent-1.0.0.jar --spring.profiles.active=if &

sleep 10

if [ $? -eq 0 ]; then
    echo "Execution successful."
else
    echo "Execution failed."
    exit 1
fi

2023-12-12 17:31:00.319  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:31:00.334  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {}
2023-12-12 17:31:00.334  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
2023-12-12 17:31:00.335  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
2023-12-12 17:31:00.335  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {}
2023-12-12 17:31:10.337  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Deploy Project....
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :   .   ____          _            __ _ _
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :   '  |____| .__|_| |_|_| |_\__, | / / / /
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  =========|_|==============|___/=/_/_/_/
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  :  :: Spring Boot ::                (v2.7.7)
2023-12-12 17:31:11.062  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 
2023-12-12 17:31:11.114  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:11.112  INFO 22140 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 22140 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:31:11.114  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:11.114  INFO 22140 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:31:12.380  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:12.376  INFO 22140 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:31:12.391  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:12.384  INFO 22140 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:31:12.391  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:12.384  INFO 22140 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:31:12.434  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:12.433  INFO 22140 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:31:12.434  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:12.434  INFO 22140 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms
2023-12-12 17:31:13.446  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.439  INFO 22140 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:31:13.503  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.494  INFO 22140 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:31:13.503  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.495  INFO 22140 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:31:13.783  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.772  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:31:13.795  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.794  INFO 22140 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3451ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:31:13.834  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.831  INFO 22140 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:31:13.860  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.857  INFO 22140 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3effd4f3{/,null,AVAILABLE}
2023-12-12 17:31:13.874  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.864  INFO 22140 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4f67e3df{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:31:13.874  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.864  INFO 22140 --- [           main] org.eclipse.jetty.server.Server          : Started @3521ms
2023-12-12 17:31:13.874  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.870  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:31:13.874  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.870  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:31:13.874  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.870  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 295ms (build:45ms init:152ms start:98ms)
2023-12-12 17:31:13.874  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 2023-12-12 17:31:13.874  INFO 22140 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.174 seconds (JVM running for 3.53)
2023-12-12 17:31:20.341  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Execution successful.
2023-12-12 17:31:20.345  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:31:20.346  INFO 21938 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {}
/home/dsp_deploy/script/I0000001-S00001-1-deploy-start.sh: line 11: : command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
kill: {}
Deploy Project....

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-12-12 17:31:11.112  INFO 22140 --- [           main] go.kr.dsp.api.DspApiApplication          : Starting DspApiApplication using Java 11.0.21 on localhost.localdomain with PID 22140 (/home/dsp_if/agent-1.0.0.jar started by root in /home/dsp_if)
2023-12-12 17:31:11.114  INFO 22140 --- [           main] go.kr.dsp.api.DspApiApplication          : The following 1 profile is active: "if"
2023-12-12 17:31:12.376  INFO 22140 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8787 (http)
2023-12-12 17:31:12.384  INFO 22140 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-12 17:31:12.384  INFO 22140 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]
2023-12-12 17:31:12.433  INFO 22140 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-12 17:31:12.434  INFO 22140 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms
2023-12-12 17:31:13.439  INFO 22140 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-12-12 17:31:13.494  INFO 22140 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2023-12-12 17:31:13.495  INFO 22140 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8787 (http) with context path ''
2023-12-12 17:31:13.772  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) is starting
2023-12-12 17:31:13.794  INFO 22140 --- [           main] org.eclipse.jetty.util.log               : Logging initialized @3451ms to org.eclipse.jetty.util.log.Slf4jLog
2023-12-12 17:31:13.831  INFO 22140 --- [           main] org.eclipse.jetty.server.Server          : jetty-9.4.50.v20221201; built: 2022-12-01T22:07:03.915Z; git: da9a0b30691a45daf90a9f17b5defa2f1434f882; jvm 11.0.21+9-LTS
2023-12-12 17:31:13.857  INFO 22140 --- [           main] o.e.jetty.server.handler.ContextHandler  : Started o.e.j.s.ServletContextHandler@3effd4f3{/,null,AVAILABLE}
2023-12-12 17:31:13.864  INFO 22140 --- [           main] o.e.jetty.server.AbstractConnector       : Started ServerConnector@4f67e3df{HTTP/1.1, (http/1.1)}{172.30.1.84:7777}
2023-12-12 17:31:13.864  INFO 22140 --- [           main] org.eclipse.jetty.server.Server          : Started @3521ms
2023-12-12 17:31:13.870  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)
2023-12-12 17:31:13.870  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started dsp-if (jetty:http://172.30.1.84:7777/file)
2023-12-12 17:31:13.870  INFO 22140 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.0 (camel-1) started in 295ms (build:45ms init:152ms start:98ms)
2023-12-12 17:31:13.874  INFO 22140 --- [           main] go.kr.dsp.api.DspApiApplication          : Started DspApiApplication in 3.174 seconds (JVM running for 3.53)
Execution successful.

2023-12-12 17:38:10.901  INFO 21938 --- [qtp277697988-37] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@7a7ace90, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=1966, fileExtension=yaml, fileName=I0000001-S00001-1-deploy-deploy-template.yaml, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:42:00.955  INFO 21938 --- [qtp277697988-36] deploy-template.yaml:15                  : {Accept-Encoding=gzip,deflate, agentName=deploy, CamelHttpMethod=POST, CamelHttpPath=, CamelHttpQuery=null, CamelHttpServletRequest=Request(POST //172.30.1.84:6666/file)@523b21e, CamelHttpServletResponse=HTTP/1.1 200 

, CamelHttpUri=/file, CamelHttpUrl=http://172.30.1.84:6666/file, CamelServletContextPath=/file, Connection=keep-alive, Content-Length=220, fileExtension=sh, fileName=I0000001-S00001-1-deploy-stop.sh, Host=172.30.1.84:6666, instName=I0000001, serverNum=1, serviceName=S00001, User-Agent=Apache-HttpClient/4.5.13 (Java/11.0.20)}
2023-12-12 17:42:00.957  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : /home/dsp_deploy
2023-12-12 17:42:00.957  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : 실행 스크립트: 
#!/bin/sh

cd /home/dsp_if

echo "PID Check..."

CURRENT_PID=$(ps -ef | grep java | grep if | awk '{print $2}')

echo "Running PID: {$CURRENT_PID}"

kill -9 $CURRENT_PID
echo "kill: {$CURRENT_PID}"
sleep 10

echo "Done"

2023-12-12 17:42:00.960  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : PID Check...
2023-12-12 17:42:00.978  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Running PID: {22140}
2023-12-12 17:42:00.978  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : kill: {22140}
2023-12-12 17:42:10.980  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Done
2023-12-12 17:42:10.983  INFO 21938 --- [qtp277697988-36] go.kr.dsp.api.processor.ScriptProcessor  : Exited with code 0
2023-12-12 17:42:10.984  INFO 21938 --- [qtp277697988-36] g.kr.dsp.api.processor.LogFileProcessor  : 스크립트 결과:
 PID Check...
Running PID: {22140}
kill: {22140}
Done

